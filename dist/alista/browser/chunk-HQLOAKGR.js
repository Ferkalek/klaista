import{$ as gs,$a as Ms,A as Ve,Aa as Ai,Ab as qs,B as He,Ba as Ss,Bb as Gs,C as qe,Ca as W,D as bi,Da as ge,E as Ge,Ea as S,F as ls,Fa as Et,Fb as zs,G as pn,Ga as m,Gb as Ws,H as be,Ha as C,I as wi,Ia as E,Ib as Ks,J as us,Ja as xi,K as hs,Ka as Di,Kb as Zs,L as ds,La as oe,M as fs,Ma as T,N as ie,Na as O,O as K,Oa as Mi,P as j,Pa as Qe,Q as we,Qa as At,R as Si,Ra as xt,S as P,Sa as Es,T as bt,Ta as vn,U as R,Ua as L,V as re,Va as U,W as ps,Wa as As,X as V,Xa as xs,Y as Ei,Ya as yn,Z as z,Za as Ii,_ as p,_a as Ds,a as h,aa as ms,ab as Cn,b as k,ba as ze,bb as _n,c as d,ca as Z,cb as Is,da as se,db as N,e as ts,ea as te,eb as Ri,fa as wt,fb as Rs,g as ns,ga as Se,gb as Os,h as is,ha as St,hb as Oi,i as rs,ia as B,ib as Vs,j as vi,ja as H,jb as ks,k as yi,ka as ce,kb as Dt,l as $,la as vs,lb as Ts,m as I,ma as We,mb as Ps,n as _e,na as gn,nb as Ye,o as G,oa as Ke,ob as Ns,p as f,pa as le,pb as Fs,q as _t,qa as ys,qb as Ls,r as ss,ra as A,rb as Ae,s as os,sa as w,sb as Us,t as b,ta as Cs,tb as $s,u as Be,ua as mn,ub as js,v as Q,va as Ze,vb as me,w as Ci,wa as _s,wb as Bs,x as as,xa as bs,xb as xc,y as _i,ya as Ee,z as cs,za as ws,zb as Hs}from"./chunk-3TSWW5DY.js";function Oc(){let t=Ri()?Ri().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}function xe(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function oo(t){return t!=null&&typeof t.length=="number"}function Tc(t){return e=>{if(xe(e.value)||xe(t))return null;let i=parseFloat(e.value);return!isNaN(i)&&i<t?{min:{min:t,actual:e.value}}:null}}function Pc(t){return e=>{if(xe(e.value)||xe(t))return null;let i=parseFloat(e.value);return!isNaN(i)&&i>t?{max:{max:t,actual:e.value}}:null}}function Nc(t){return xe(t.value)?{required:!0}:null}function Fc(t){return t.value===!0?null:{required:!0}}function Lc(t){return xe(t.value)||kc.test(t.value)?null:{email:!0}}function Uc(t){return e=>xe(e.value)||!oo(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function $c(t){return e=>oo(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function jc(t){if(!t)return lo;let e,i;return typeof t=="string"?(i="",t.charAt(0)!=="^"&&(i+="^"),i+=t,t.charAt(t.length-1)!=="$"&&(i+="$"),e=new RegExp(i)):(i=t.toString(),e=t),n=>{if(xe(n.value))return null;let r=n.value;return e.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function lo(t){return null}function uo(t){return t!=null}function ho(t){return yn(t)?G(t):t}function fo(t){let e={};return t.forEach(i=>{e=i!=null?h(h({},e),i):e}),Object.keys(e).length===0?null:e}function po(t,e){return e.map(i=>i(t))}function Bc(t){return!t.validate}function go(t){return t.map(e=>Bc(e)?e:i=>e.validate(i))}function mo(t){if(!t)return null;let e=t.filter(uo);return e.length==0?null:function(i){return fo(po(i,e))}}function vo(t){return t!=null?mo(go(t)):null}function yo(t){if(!t)return null;let e=t.filter(uo);return e.length==0?null:function(i){let n=po(i,e).map(ho);return cs(n).pipe(b(fo))}}function Co(t){return t!=null?yo(go(t)):null}function Qs(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function _o(t){return t._rawValidators}function bo(t){return t._rawAsyncValidators}function Vi(t){return t?Array.isArray(t)?t:[t]:[]}function wn(t,e){return Array.isArray(t)?t.includes(e):t===e}function Ys(t,e){let i=Vi(e);return Vi(t).forEach(r=>{wn(i,r)||i.push(r)}),i}function Js(t,e){return Vi(e).filter(i=>!wn(t,i))}function Fi(t){return(Rn(t)?t.validators:t)||null}function qc(t){return Array.isArray(t)?vo(t):t||null}function Li(t,e){return(Rn(e)?e.asyncValidators:t)||null}function Gc(t){return Array.isArray(t)?Co(t):t||null}function Rn(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function wo(t,e,i){let n=t.controls;if(!(e?Object.keys(n):n).length)throw new P(1e3,"");if(!n[i])throw new P(1001,"")}function So(t,e,i){t._forEachChild((n,r)=>{if(i[r]===void 0)throw new P(1002,"")})}function zc(t,e){return[...e.path,t]}function Xs(t,e,i=Ui){$i(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||i==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Kc(t,e),Qc(t,e),Zc(t,e),Wc(t,e)}function eo(t,e,i=!0){let n=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),Dn(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function xn(t,e){t.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(e)})}function Wc(t,e){if(e.valueAccessor.setDisabledState){let i=n=>{e.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(i),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(i)})}}function $i(t,e){let i=_o(t);e.validator!==null?t.setValidators(Qs(i,e.validator)):typeof i=="function"&&t.setValidators([i]);let n=bo(t);e.asyncValidator!==null?t.setAsyncValidators(Qs(n,e.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let r=()=>t.updateValueAndValidity();xn(e._rawValidators,r),xn(e._rawAsyncValidators,r)}function Dn(t,e){let i=!1;if(t!==null){if(e.validator!==null){let r=_o(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(i=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=bo(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(i=!0,t.setAsyncValidators(s))}}}let n=()=>{};return xn(e._rawValidators,n),xn(e._rawAsyncValidators,n),i}function Kc(t,e){e.valueAccessor.registerOnChange(i=>{t._pendingValue=i,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Ao(t,e)})}function Zc(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Ao(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Ao(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Qc(t,e){let i=(n,r)=>{e.valueAccessor.writeValue(n),r&&e.viewToModelUpdate(n)};t.registerOnChange(i),e._registerOnDestroy(()=>{t._unregisterOnChange(i)})}function Yc(t,e){t==null,$i(t,e)}function Jc(t,e){return Dn(t,e)}function Xc(t,e){if(!t.hasOwnProperty("model"))return!1;let i=t.model;return i.isFirstChange()?!0:!Object.is(e,i.currentValue)}function el(t){return Object.getPrototypeOf(t.constructor)===so}function tl(t,e){t._syncPendingControls(),e.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function nl(t,e){if(!e)return null;Array.isArray(e);let i,n,r;return e.forEach(s=>{s.constructor===tt?i=s:el(s)?n=s:r=s}),r||n||i||null}function il(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function to(t,e){let i=t.indexOf(e);i>-1&&t.splice(i,1)}function no(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}function io(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var ro,so,Pi,Ic,Ni,Rc,Vc,tt,ao,co,kc,he,Sn,Xe,Rt,En,Hc,vd,Mn,In,Mt,bn,Je,It,et,An,ki,Eo,Ui,ue,rl,On,xo,sl,Ot,ol,Vt,al,Ti,Vn,Do,nt=d(()=>{"use strict";N();N();me();we();Si();ro=(()=>{let e=class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};e.\u0275fac=function(r){return new(r||e)(w(mn),w(Ke))},e.\u0275dir=te({type:e});let t=e;return t})(),so=(()=>{let e=class e extends ro{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275dir=te({type:e,features:[Ee]});let t=e;return t})(),Pi=new V(""),Ic={provide:Pi,useExisting:bt(()=>Ni),multi:!0},Ni=(()=>{let e=class e extends so{writeValue(n){this.setProperty("checked",n)}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275dir=te({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,s){r&1&&T("change",function(a){return s.onChange(a.target.checked)})("blur",function(){return s.onTouched()})},features:[xt([Ic]),Ee]});let t=e;return t})(),Rc={provide:Pi,useExisting:bt(()=>tt),multi:!0};Vc=new V(""),tt=(()=>{let e=class e extends ro{constructor(n,r,s){super(n,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Oc())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};e.\u0275fac=function(r){return new(r||e)(w(mn),w(Ke),w(Vc,8))},e.\u0275dir=te({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&T("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[xt([Rc]),Ee]});let t=e;return t})();ao=new V(""),co=new V(""),kc=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,he=class{static min(e){return Tc(e)}static max(e){return Pc(e)}static required(e){return Nc(e)}static requiredTrue(e){return Fc(e)}static email(e){return Lc(e)}static minLength(e){return Uc(e)}static maxLength(e){return $c(e)}static pattern(e){return jc(e)}static nullValidator(e){return lo(e)}static compose(e){return mo(e)}static composeAsync(e){return yo(e)}};Sn=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vo(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Co(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,i){return this.control?this.control.hasError(e,i):!1}getError(e,i){return this.control?this.control.getError(e,i):null}},Xe=class extends Sn{get formDirective(){return null}get path(){return null}},Rt=class extends Sn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},En=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},Hc={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},vd=k(h({},Hc),{"[class.ng-submitted]":"isSubmitted"}),Mn=(()=>{let e=class e extends En{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(w(Rt,2))},e.\u0275dir=te({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Et("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ee]});let t=e;return t})(),In=(()=>{let e=class e extends En{constructor(n){super(n)}};e.\u0275fac=function(r){return new(r||e)(w(Xe,10))},e.\u0275dir=te({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Et("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Ee]});let t=e;return t})(),Mt="VALID",bn="INVALID",Je="PENDING",It="DISABLED";et=class{constructor(e,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Mt}get invalid(){return this.status===bn}get pending(){return this.status==Je}get disabled(){return this.status===It}get enabled(){return this.status!==It}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ys(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ys(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Js(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Js(e,this._rawAsyncValidators))}hasValidator(e){return wn(this._rawValidators,e)}hasAsyncValidator(e){return wn(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Je,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=It,this.errors=null,this._forEachChild(n=>{n.disable(k(h({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(k(h({},e),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!0))}enable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=Mt,this._forEachChild(n=>{n.enable(k(h({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(k(h({},e),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Mt||this.status===Je)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?It:Mt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Je,this._hasOwnPendingAsyncValidator=!0;let i=ho(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,i={}){this.errors=e,this._updateControlsErrors(i.emitEvent!==!1)}get(e){let i=e;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(e,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[e]:null}hasError(e,i){return!!this.getError(e,i)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new le,this.statusChanges=new le}_calculateStatus(){return this._allControlsDisabled()?It:this.errors?bn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Je)?Je:this._anyControlsHaveStatus(bn)?bn:Mt}_anyControlsHaveStatus(e){return this._anyControls(i=>i.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Rn(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let i=this._parent&&this._parent.dirty;return!e&&!!i&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=qc(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Gc(this._rawAsyncValidators)}},An=class extends et{constructor(e,i,n){super(Fi(i),Li(n,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,i){return this.controls[e]?this.controls[e]:(this.controls[e]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(e,i,n={}){this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(e,i,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],i&&this.registerControl(e,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,i={}){So(this,!0,e),Object.keys(e).forEach(n=>{wo(this,!0,n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){e!=null&&(Object.keys(e).forEach(n=>{let r=this.controls[n];r&&r.patchValue(e[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e={},i={}){this._forEachChild((n,r)=>{n.reset(e?e[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(e,i,n)=>(e[n]=i.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&e(n,i)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&e(n))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(e,i){let n=e;return this._forEachChild((r,s)=>{n=i(n,r,s)}),n}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}},ki=class extends An{},Eo=new V("CallSetDisabledState",{providedIn:"root",factory:()=>Ui}),Ui="always";ue=class extends et{constructor(e=null,i,n){super(Fi(i),Li(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rn(i)&&(i.nonNullable||i.initialValueIsDefault)&&(no(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,i={}){this.value=this._pendingValue=e,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(e,i={}){this.setValue(e,i)}reset(e=this.defaultValue,i={}){this._applyFormState(e),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){to(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){to(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){no(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},rl=t=>t instanceof ue,On=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=te({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),xo=new V(""),sl={provide:Xe,useExisting:bt(()=>Ot)},Ot=(()=>{let e=class e extends Xe{constructor(n,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new le,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Dn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Xs(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){eo(n.control||null,n,!1),il(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,tl(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,s=this.form.get(n.path);r!==s&&(eo(r||null,n),rl(s)&&(Xs(s,n,this.callSetDisabledState),n.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);Yc(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&Jc(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$i(this.form,this),this._oldForm&&Dn(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(w(ao,10),w(co,10),w(Eo,8))},e.\u0275dir=te({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&T("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[ze.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[xt([sl]),Ee,St]});let t=e;return t})(),ol={provide:Rt,useExisting:bt(()=>Vt)},Vt=(()=>{let e=class e extends Rt{set isDisabled(n){}constructor(n,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new le,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=nl(this,o)}ngOnChanges(n){this._added||this._setUpControl(),Xc(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return zc(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(w(Xe,13),w(ao,10),w(co,10),w(Pi,10),w(xo,8))},e.\u0275dir=te({type:e,selectors:[["","formControlName",""]],inputs:{name:[ze.None,"formControlName","name"],isDisabled:[ze.None,"disabled","isDisabled"],model:[ze.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[xt([ol]),Ee,St]});let t=e;return t})(),al=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=se({type:e}),e.\u0275inj=re({});let t=e;return t})(),Ti=class extends et{constructor(e,i,n){super(Fi(i),Li(n,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,i={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(e,i,n={}){this.controls.splice(e,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,i={}){let n=this._adjustIndex(e);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(e,i,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,i={}){So(this,!1,e),e.forEach((n,r)=>{wo(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){e!=null&&(e.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e=[],i={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((i,n)=>n._syncPendingControls()?!0:i,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((i,n)=>{e(i,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(i=>i.enabled&&e(i))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};Vn=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let s=this._reduceControls(n),o={};return io(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new An(s,o)}record(n,r=null){let s=this._reduceControls(n);return new ki(s,r)}control(n,r,s){let o={};return this.useNonNullable?(io(r)?o=r:(o.validators=r,o.asyncValidators=s),new ue(n,k(h({},o),{nonNullable:!0}))):new ue(n,r,s)}array(n,r,s){let o=n.map(a=>this._createControl(a));return new Ti(o,r,s)}_reduceControls(n){let r={};return Object.keys(n).forEach(s=>{r[s]=this._createControl(n[s])}),r}_createControl(n){if(n instanceof ue)return n;if(n instanceof et)return n;if(Array.isArray(n)){let r=n[0],s=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,s,o)}else return this.control(n)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Do=(()=>{let e=class e{static withConfig(n){return{ngModule:e,providers:[{provide:xo,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Eo,useValue:n.callSetDisabledState??Ui}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=se({type:e}),e.\u0275inj=re({imports:[al]});let t=e;return t})()});var ae,kt,Tt,kn=d(()=>{"use strict";ae=Object.create(null);ae.open="0";ae.close="1";ae.ping="2";ae.pong="3";ae.message="4";ae.upgrade="5";ae.noop="6";kt=Object.create(null);Object.keys(ae).forEach(t=>{kt[ae[t]]=t});Tt={type:"error",data:"parser error"}});function Ro(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}function To(t,e){if(Oo&&t.data instanceof Blob)return t.data.arrayBuffer().then(Ro).then(e);if(Vo&&(t.data instanceof ArrayBuffer||ko(t.data)))return e(Ro(t.data));Pt(t,!1,i=>{ji||(ji=new TextEncoder),e(ji.encode(i))})}var Oo,Vo,ko,Pt,Io,ji,Po=d(()=>{"use strict";kn();Oo=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Vo=typeof ArrayBuffer=="function",ko=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Pt=({type:t,data:e},i,n)=>Oo&&e instanceof Blob?i?n(e):Io(e,n):Vo&&(e instanceof ArrayBuffer||ko(e))?i?n(e):Io(new Blob([e]),n):n(ae[t]+(e||"")),Io=(t,e)=>{let i=new FileReader;return i.onload=function(){let n=i.result.split(",")[1];e("b"+(n||""))},i.readAsDataURL(t)}});var No,Nt,Fo,Lo=d(()=>{"use strict";No="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<No.length;t++)Nt[No.charCodeAt(t)]=t;Fo=t=>{let e=t.length*.75,i=t.length,n,r=0,s,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);let c=new ArrayBuffer(e),u=new Uint8Array(c);for(n=0;n<i;n+=4)s=Nt[t.charCodeAt(n)],o=Nt[t.charCodeAt(n+1)],a=Nt[t.charCodeAt(n+2)],l=Nt[t.charCodeAt(n+3)],u[r++]=s<<2|o>>4,u[r++]=(o&15)<<4|a>>2,u[r++]=(a&3)<<6|l&63;return c}});var cl,Ft,ll,Uo,$o=d(()=>{"use strict";kn();Lo();cl=typeof ArrayBuffer=="function",Ft=(t,e)=>{if(typeof t!="string")return{type:"message",data:Uo(t,e)};let i=t.charAt(0);return i==="b"?{type:"message",data:ll(t.substring(1),e)}:kt[i]?t.length>1?{type:kt[i],data:t.substring(1)}:{type:kt[i]}:Tt},ll=(t,e)=>{if(cl){let i=Fo(t);return Uo(i,e)}else return{base64:!0,data:t}},Uo=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}}});function qo(){return new TransformStream({transform(t,e){To(t,i=>{let n=i.length,r;if(n<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,n);else if(n<65536){r=new Uint8Array(3);let s=new DataView(r.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{r=new Uint8Array(9);let s=new DataView(r.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(i)})}})}function Tn(t){return t.reduce((e,i)=>e+i.length,0)}function Pn(t,e){if(t[0].length===e)return t.shift();let i=new Uint8Array(e),n=0;for(let r=0;r<e;r++)i[r]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),i}function Go(t,e){Bi||(Bi=new TextDecoder);let i=[],n=0,r=-1,s=!1;return new TransformStream({transform(o,a){for(i.push(o);;){if(n===0){if(Tn(i)<1)break;let l=Pn(i,1);s=(l[0]&128)===128,r=l[0]&127,r<126?n=3:r===126?n=1:n=2}else if(n===1){if(Tn(i)<2)break;let l=Pn(i,2);r=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(Tn(i)<8)break;let l=Pn(i,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(Tt);break}r=u*Math.pow(2,32)+c.getUint32(4),n=3}else{if(Tn(i)<r)break;let l=Pn(i,r);a.enqueue(Ft(s?l:Bi.decode(l),e)),n=0}if(r===0||r>t){a.enqueue(Tt);break}}}})}var jo,Bo,Ho,Bi,Hi,it=d(()=>{"use strict";Po();$o();kn();jo="",Bo=(t,e)=>{let i=t.length,n=new Array(i),r=0;t.forEach((s,o)=>{Pt(s,!1,a=>{n[o]=a,++r===i&&e(n.join(jo))})})},Ho=(t,e)=>{let i=t.split(jo),n=[];for(let r=0;r<i.length;r++){let s=Ft(i[r],e);if(n.push(s),s.type==="error")break}return n};Hi=4});function M(t){if(t)return ul(t)}function ul(t){for(var e in M.prototype)t[e]=M.prototype[e];return t}var ke=d(()=>{"use strict";M.prototype.on=M.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};M.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this};M.prototype.off=M.prototype.removeListener=M.prototype.removeAllListeners=M.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+t];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,r=0;r<i.length;r++)if(n=i[r],n===e||n.fn===e){i.splice(r,1);break}return i.length===0&&delete this._callbacks["$"+t],this};M.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(i){i=i.slice(0);for(var n=0,r=i.length;n<r;++n)i[n].apply(this,e)}return this};M.prototype.emitReserved=M.prototype.emit;M.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};M.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var q,Lt=d(()=>{"use strict";q=typeof self<"u"?self:typeof window<"u"?window:Function("return this")()});function Nn(t,...e){return e.reduce((i,n)=>(t.hasOwnProperty(n)&&(i[n]=t[n]),i),{})}function ve(t,e){e.useNativeTimers?(t.setTimeoutFn=hl.bind(q),t.clearTimeoutFn=dl.bind(q)):(t.setTimeoutFn=q.setTimeout.bind(q),t.clearTimeoutFn=q.clearTimeout.bind(q))}function zo(t){return typeof t=="string"?pl(t):Math.ceil((t.byteLength||t.size)*fl)}function pl(t){let e=0,i=0;for(let n=0,r=t.length;n<r;n++)e=t.charCodeAt(n),e<128?i+=1:e<2048?i+=2:e<55296||e>=57344?i+=3:(n++,i+=4);return i}var hl,dl,fl,rt=d(()=>{"use strict";Lt();hl=q.setTimeout,dl=q.clearTimeout;fl=1.33});function Wo(t){let e="";for(let i in t)t.hasOwnProperty(i)&&(e.length&&(e+="&"),e+=encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e}function Ko(t){let e={},i=t.split("&");for(let n=0,r=i.length;n<r;n++){let s=i[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}var qi=d(()=>{"use strict"});var Fn,ye,Ut=d(()=>{"use strict";it();ke();rt();qi();Fn=class extends Error{constructor(e,i,n){super(e),this.description=i,this.context=n,this.type="TransportError"}},ye=class extends M{constructor(e){super(),this.writable=!1,ve(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,i,n){return super.emitReserved("error",new Fn(e,i,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let i=Ft(e,this.socket.binaryType);this.onPacket(i)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,i={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(i)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let i=Wo(e);return i.length?"?"+i:""}}});function Yo(t){let e="";do e=Jo[t%Gi]+e,t=Math.floor(t/Gi);while(t>0);return e}function Un(){let t=Yo(+new Date);return t!==Qo?(Zo=0,Qo=t):t+"."+Yo(Zo++)}var Jo,Gi,gl,Zo,Ln,Qo,zi=d(()=>{"use strict";Jo="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Gi=64,gl={},Zo=0,Ln=0;for(;Ln<Gi;Ln++)gl[Jo[Ln]]=Ln});var Xo,ea,ta=d(()=>{"use strict";Xo=!1;try{Xo=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}ea=Xo});function Wi(t){let e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||ea))return new XMLHttpRequest}catch{}if(!e)try{return new q[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var na=d(()=>{"use strict";ta();Lt()});function ml(){}function ia(){for(let t in $n.requests)$n.requests.hasOwnProperty(t)&&$n.requests[t].abort()}var vl,jn,$n,ra=d(()=>{"use strict";Ut();zi();it();na();ke();rt();Lt();vl=function(){return new Wi({xdomain:!1}).responseType!=null}(),jn=class extends ye{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){let n=location.protocol==="https:",r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}let i=e&&e.forceBase64;this.supportsBinary=vl&&!i,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";let i=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||i()})),this.writable||(n++,this.once("drain",function(){--n||i()}))}else i()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let i=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Ho(e,this.socket.binaryType).forEach(i),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Bo(e,i=>{this.doWrite(i,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",i=this.query||{};return this.opts.timestampRequests!==!1&&(i[this.opts.timestampParam]=Un()),!this.supportsBinary&&!i.sid&&(i.b64=1),this.createUri(e,i)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new $n(this.uri(),e)}doWrite(e,i){let n=this.request({method:"POST",data:e});n.on("success",i),n.on("error",(r,s)=>{this.onError("xhr post error",r,s)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(i,n)=>{this.onError("xhr poll error",i,n)}),this.pollXhr=e}},$n=(()=>{class t extends M{constructor(i,n){super(),ve(this,n),this.opts=n,this.method=n.method||"GET",this.uri=i,this.data=n.data!==void 0?n.data:null,this.create()}create(){var i;let n=Nn(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;let r=this.xhr=new Wi(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(i=this.opts.cookieJar)===null||i===void 0||i.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=t.requestsCount++,t.requests[this.index]=this)}onError(i){this.emitReserved("error",i,this.xhr),this.cleanup(!0)}cleanup(i){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=ml,i)try{this.xhr.abort()}catch{}typeof document<"u"&&delete t.requests[this.index],this.xhr=null}}onLoad(){let i=this.xhr.responseText;i!==null&&(this.emitReserved("data",i),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return t.requestsCount=0,t.requests={},t})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ia);else if(typeof addEventListener=="function"){let t="onpagehide"in q?"pagehide":"unload";addEventListener(t,ia,!1)}}});var Te,$t,Bn,sa,jt=d(()=>{"use strict";Lt();Te=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,i)=>i(e,0),$t=q.WebSocket||q.MozWebSocket,Bn=!0,sa="arraybuffer"});var oa,Hn,aa=d(()=>{"use strict";Ut();zi();rt();jt();it();oa=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",Hn=class extends ye{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),i=this.opts.protocols,n=oa?{}:Nn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Bn&&!oa?i?new $t(e,i):new $t(e):new $t(e,i,n)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let i=0;i<e.length;i++){let n=e[i],r=i===e.length-1;Pt(n,this.supportsBinary,s=>{let o={};Bn||(n.options&&(o.compress=n.options.compress),this.opts.perMessageDeflate&&(typeof s=="string"?Buffer.byteLength(s):s.length)<this.opts.perMessageDeflate.threshold&&(o.compress=!1));try{Bn?this.ws.send(s):this.ws.send(s,o)}catch{}r&&Te(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",i=this.query||{};return this.opts.timestampRequests&&(i[this.opts.timestampParam]=Un()),this.supportsBinary||(i.b64=1),this.createUri(e,i)}check(){return!!$t}}});var qn,ca=d(()=>{"use strict";Ut();jt();it();qn=class extends ye{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{let i=Go(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(i).getReader(),r=qo();r.readable.pipeTo(e.writable),this.writer=r.writable.getWriter();let s=()=>{n.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();let o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let i=0;i<e.length;i++){let n=e[i],r=i===e.length-1;this.writer.write(n).then(()=>{r&&Te(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}});var Ki,Zi=d(()=>{"use strict";ra();aa();ca();Ki={websocket:Hn,webtransport:qn,polling:jn}});function st(t){if(t.length>2e3)throw"URI too long";let e=t,i=t.indexOf("["),n=t.indexOf("]");i!=-1&&n!=-1&&(t=t.substring(0,i)+t.substring(i,n).replace(/:/g,";")+t.substring(n,t.length));let r=yl.exec(t||""),s={},o=14;for(;o--;)s[Cl[o]]=r[o]||"";return i!=-1&&n!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=_l(s,s.path),s.queryKey=bl(s,s.query),s}function _l(t,e){let i=/\/{2,9}/g,n=e.replace(i,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function bl(t,e){let i={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,r,s){r&&(i[r]=s)}),i}var yl,Cl,Qi=d(()=>{"use strict";yl=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Cl=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"]});var Gn,la=d(()=>{"use strict";Zi();rt();qi();Qi();ke();it();jt();Gn=(()=>{class t extends M{constructor(i,n={}){super(),this.binaryType=sa,this.writeBuffer=[],i&&typeof i=="object"&&(n=i,i=null),i?(i=st(i),n.hostname=i.host,n.secure=i.protocol==="https"||i.protocol==="wss",n.port=i.port,i.query&&(n.query=i.query)):n.host&&(n.hostname=st(n.host).host),ve(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Ko(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(i){let n=Object.assign({},this.opts.query);n.EIO=Hi,n.transport=i,this.id&&(n.sid=this.id);let r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[i]);return new Ki[i](r)}open(){let i;if(this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)i="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else i=this.transports[0];this.readyState="opening";try{i=this.createTransport(i)}catch{this.transports.shift(),this.open();return}i.open(),this.setTransport(i)}setTransport(i){this.transport&&this.transport.removeAllListeners(),this.transport=i,i.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(i){let n=this.createTransport(i),r=!1;t.priorWebsocketSuccess=!1;let s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",g=>{if(!r)if(g.type==="pong"&&g.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;t.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(y(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{let D=new Error("probe error");D.transport=n.name,this.emitReserved("upgradeError",D)}}))};function o(){r||(r=!0,y(),n.close(),n=null)}let a=g=>{let D=new Error("probe error: "+g);D.transport=n.name,o(),this.emitReserved("upgradeError",D)};function l(){a("transport closed")}function c(){a("socket closed")}function u(g){n&&g.name!==n.name&&o()}let y=()=>{n.removeListener("open",s),n.removeListener("error",a),n.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};n.once("open",s),n.once("error",a),n.once("close",l),this.once("close",c),this.once("upgrading",u),this.upgrades.indexOf("webtransport")!==-1&&i!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",t.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let i=0,n=this.upgrades.length;for(;i<n;i++)this.probe(this.upgrades[i])}}onPacket(i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",i),this.emitReserved("heartbeat"),this.resetPingTimeout(),i.type){case"open":this.onHandshake(JSON.parse(i.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let n=new Error("server error");n.code=i.data,this.onError(n);break;case"message":this.emitReserved("data",i.data),this.emitReserved("message",i.data);break}}onHandshake(i){this.emitReserved("handshake",i),this.id=i.sid,this.transport.query.sid=i.sid,this.upgrades=this.filterUpgrades(i.upgrades),this.pingInterval=i.pingInterval,this.pingTimeout=i.pingTimeout,this.maxPayload=i.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let i=this.getWritablePackets();this.transport.send(i),this.prevBufferLen=i.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){let s=this.writeBuffer[r].data;if(s&&(n+=zo(s)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(i,n,r){return this.sendPacket("message",i,n,r),this}send(i,n,r){return this.sendPacket("message",i,n,r),this}sendPacket(i,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;let o={type:i,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){let i=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),i()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():i()}):this.upgrading?r():i()),this}onError(i){t.priorWebsocketSuccess=!1,this.emitReserved("error",i),this.onClose("transport error",i)}onClose(i,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",i,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(i){let n=[],r=0,s=i.length;for(;r<s;r++)~this.transports.indexOf(i[r])&&n.push(i[r]);return n}}return t.protocol=Hi,t})()});var Mf,Yi=d(()=>{"use strict";la();Ut();Zi();rt();Qi();jt();Mf=Gn.protocol});function ua(t,e="",i){let n=t;i=i||typeof location<"u"&&location,t==null&&(t=i.protocol+"//"+i.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=i.protocol+t:t=i.host+t),/^(https?|wss?):\/\//.test(t)||(typeof i<"u"?t=i.protocol+"//"+t:t="https://"+t),n=st(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+e,n.href=n.protocol+"://"+s+(i&&i.port===n.port?"":":"+n.port),n}var ha=d(()=>{"use strict";Yi()});function Ht(t){return wl&&(t instanceof ArrayBuffer||Sl(t))||El&&t instanceof Blob||Al&&t instanceof File}function Bt(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let i=0,n=t.length;i<n;i++)if(Bt(t[i]))return!0;return!1}if(Ht(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Bt(t.toJSON(),!0);for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&Bt(t[i]))return!0;return!1}var wl,Sl,da,El,Al,Ji=d(()=>{"use strict";wl=typeof ArrayBuffer=="function",Sl=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,da=Object.prototype.toString,El=typeof Blob=="function"||typeof Blob<"u"&&da.call(Blob)==="[object BlobConstructor]",Al=typeof File=="function"||typeof File<"u"&&da.call(File)==="[object FileConstructor]"});function fa(t){let e=[],i=t.data,n=t;return n.data=Xi(i,e),n.attachments=e.length,{packet:n,buffers:e}}function Xi(t,e){if(!t)return t;if(Ht(t)){let i={_placeholder:!0,num:e.length};return e.push(t),i}else if(Array.isArray(t)){let i=new Array(t.length);for(let n=0;n<t.length;n++)i[n]=Xi(t[n],e);return i}else if(typeof t=="object"&&!(t instanceof Date)){let i={};for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=Xi(t[n],e));return i}return t}function pa(t,e){return t.data=er(t.data,e),delete t.attachments,t}function er(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let i=0;i<t.length;i++)t[i]=er(t[i],e);else if(typeof t=="object")for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(t[i]=er(t[i],e));return t}var ga=d(()=>{"use strict";Ji()});var sr={};ts(sr,{Decoder:()=>nr,Encoder:()=>tr,PacketType:()=>_,protocol:()=>rr});function ma(t){return Object.prototype.toString.call(t)==="[object Object]"}var xl,rr,_,tr,nr,ir,zn=d(()=>{"use strict";ke();ga();Ji();xl=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],rr=5,_=function(t){return t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK",t}(_||{}),tr=class{constructor(e){this.replacer=e}encode(e){return(e.type===_.EVENT||e.type===_.ACK)&&Bt(e)?this.encodeAsBinary({type:e.type===_.EVENT?_.BINARY_EVENT:_.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let i=""+e.type;return(e.type===_.BINARY_EVENT||e.type===_.BINARY_ACK)&&(i+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(i+=e.nsp+","),e.id!=null&&(i+=e.id),e.data!=null&&(i+=JSON.stringify(e.data,this.replacer)),i}encodeAsBinary(e){let i=fa(e),n=this.encodeAsString(i.packet),r=i.buffers;return r.unshift(n),r}};nr=class t extends M{constructor(e){super(),this.reviver=e}add(e){let i;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");i=this.decodeString(e);let n=i.type===_.BINARY_EVENT;n||i.type===_.BINARY_ACK?(i.type=n?_.EVENT:_.ACK,this.reconstructor=new ir(i),i.attachments===0&&super.emitReserved("decoded",i)):super.emitReserved("decoded",i)}else if(Ht(e)||e.base64)if(this.reconstructor)i=this.reconstructor.takeBinaryData(e),i&&(this.reconstructor=null,super.emitReserved("decoded",i));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let i=0,n={type:Number(e.charAt(0))};if(_[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===_.BINARY_EVENT||n.type===_.BINARY_ACK){let s=i+1;for(;e.charAt(++i)!=="-"&&i!=e.length;);let o=e.substring(s,i);if(o!=Number(o)||e.charAt(i)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(i+1)==="/"){let s=i+1;for(;++i&&!(e.charAt(i)===","||i===e.length););n.nsp=e.substring(s,i)}else n.nsp="/";let r=e.charAt(i+1);if(r!==""&&Number(r)==r){let s=i+1;for(;++i;){let o=e.charAt(i);if(o==null||Number(o)!=o){--i;break}if(i===e.length)break}n.id=Number(e.substring(s,i+1))}if(e.charAt(++i)){let s=this.tryParse(e.substr(i));if(t.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,i){switch(e){case _.CONNECT:return ma(i);case _.DISCONNECT:return i===void 0;case _.CONNECT_ERROR:return typeof i=="string"||ma(i);case _.EVENT:case _.BINARY_EVENT:return Array.isArray(i)&&(typeof i[0]=="number"||typeof i[0]=="string"&&xl.indexOf(i[0])===-1);case _.ACK:case _.BINARY_ACK:return Array.isArray(i)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},ir=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let i=pa(this.reconPack,this.buffers);return this.finishedReconstruction(),i}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});function J(t,e,i){return t.on(e,i),function(){t.off(e,i)}}var or=d(()=>{"use strict"});var Dl,Pe,ar=d(()=>{"use strict";zn();or();ke();Dl=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Pe=class extends M{constructor(e,i,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=i,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[J(e,"open",this.onopen.bind(this)),J(e,"packet",this.onpacket.bind(this)),J(e,"error",this.onerror.bind(this)),J(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...i){if(Dl.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;let n={type:_.EVENT,data:i};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof i[i.length-1]=="function"){let o=this.ids++,a=i.pop();this._registerAckCallback(o,a),n.id=o}let r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,i){var n;let r=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(r===void 0){this.acks[e]=i;return}let s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);i.call(this,new Error("operation has timed out"))},r),o=(...a)=>{this.io.clearTimeoutFn(s),i.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...i){return new Promise((n,r)=>{let s=(o,a)=>o?r(o):n(a);s.withError=!0,i.push(s),this.emit(e,...i)})}_addToQueue(e){let i;typeof e[e.length-1]=="function"&&(i=e.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...s)=>n!==this._queue[0]?void 0:(r!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),i&&i(r)):(this._queue.shift(),i&&i(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let i=this._queue[0];i.pending&&!e||(i.pending=!0,i.tryCount++,this.flags=i.flags,this.emit.apply(this,i.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:_.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,i){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,i),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){let n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case _.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case _.EVENT:case _.BINARY_EVENT:this.onevent(e);break;case _.ACK:case _.BINARY_ACK:this.onack(e);break;case _.DISCONNECT:this.ondisconnect();break;case _.CONNECT_ERROR:this.destroy();let n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){let i=e.data||[];e.id!=null&&i.push(this.ack(e.id)),this.connected?this.emitEvent(i):this.receiveBuffer.push(Object.freeze(i))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let i=this._anyListeners.slice();for(let n of i)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let i=this,n=!1;return function(...r){n||(n=!0,i.packet({type:_.ACK,id:e,data:r}))}}onack(e){let i=this.acks[e.id];typeof i=="function"&&(delete this.acks[e.id],i.withError&&e.data.unshift(null),i.apply(this,e.data))}onconnect(e,i){this.id=e,this.recovered=i&&this._pid===i,this._pid=i,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:_.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let i=this._anyListeners;for(let n=0;n<i.length;n++)if(e===i[n])return i.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let i=this._anyOutgoingListeners;for(let n=0;n<i.length;n++)if(e===i[n])return i.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let i=this._anyOutgoingListeners.slice();for(let n of i)n.apply(this,e.data)}}}});function Ne(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}var va=d(()=>{"use strict";Ne.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),i=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+i:t-i}return Math.min(t,this.max)|0};Ne.prototype.reset=function(){this.attempts=0};Ne.prototype.setMin=function(t){this.ms=t};Ne.prototype.setMax=function(t){this.max=t};Ne.prototype.setJitter=function(t){this.jitter=t}});var Fe,ya=d(()=>{"use strict";Yi();ar();zn();or();va();ke();Fe=class extends M{constructor(e,i){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(i=e,e=void 0),i=i||{},i.path=i.path||"/socket.io",this.opts=i,ve(this,i),this.reconnection(i.reconnection!==!1),this.reconnectionAttempts(i.reconnectionAttempts||1/0),this.reconnectionDelay(i.reconnectionDelay||1e3),this.reconnectionDelayMax(i.reconnectionDelayMax||5e3),this.randomizationFactor((n=i.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Ne({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(i.timeout==null?2e4:i.timeout),this._readyState="closed",this.uri=e;let r=i.parser||sr;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=i.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var i;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(i=this.backoff)===null||i===void 0||i.setMin(e),this)}randomizationFactor(e){var i;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(i=this.backoff)===null||i===void 0||i.setJitter(e),this)}reconnectionDelayMax(e){var i;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(i=this.backoff)===null||i===void 0||i.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Gn(this.uri,this.opts);let i=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let r=J(i,"open",function(){n.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=J(i,"error",s);if(this._timeout!==!1){let a=this._timeout,l=this.setTimeoutFn(()=>{r(),s(new Error("timeout")),i.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(J(e,"ping",this.onping.bind(this)),J(e,"data",this.ondata.bind(this)),J(e,"error",this.onerror.bind(this)),J(e,"close",this.onclose.bind(this)),J(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(i){this.onclose("parse error",i)}}ondecoded(e){Te(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,i){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Pe(this,e,i),this.nsps[e]=n),n}_destroy(e){let i=Object.keys(this.nsps);for(let n of i)if(this.nsps[n].active)return;this._close()}_packet(e){let i=this.encoder.encode(e);for(let n=0;n<i.length;n++)this.engine.write(i[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,i){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,i),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let i=this.backoff.duration();this._reconnecting=!0;let n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},i);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}});var cr={};ts(cr,{Manager:()=>Fe,Socket:()=>Pe,connect:()=>Le,default:()=>Le,io:()=>Le,protocol:()=>rr});function Le(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};let i=ua(t,e.path||"/socket.io"),n=i.source,r=i.id,s=i.path,o=qt[r]&&s in qt[r].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o,l;return a?l=new Fe(n,e):(qt[r]||(qt[r]=new Fe(n,e)),l=qt[r]),i.query&&!e.query&&(e.query=i.queryKey),l.socket(i.path,e)}var qt,Ca=d(()=>{"use strict";ha();ya();ar();zn();qt={};Object.assign(Le,{Manager:Fe,Socket:Pe,io:Le,connect:Le})});function Ml(t){return new ot(t)}var ot,_a,ba,lr=d(()=>{"use strict";N();N();we();Si();Ca();ot=class{config;subscribersCounter={};eventObservables$={};ioSocket;emptyConfig={url:"",options:{}};constructor(e){this.config=e,e===void 0&&(e=this.emptyConfig);let i=e.url,n=e.options,r=Le?Le:cr;this.ioSocket=r(i,n)}of(e){this.ioSocket.of(e)}on(e,i){this.ioSocket.on(e,i)}once(e,i){this.ioSocket.once(e,i)}connect(e){return this.ioSocket.connect(e)}disconnect(e){return this.ioSocket.disconnect.apply(this.ioSocket,arguments)}emit(e,...i){return this.ioSocket.emit.apply(this.ioSocket,arguments)}removeListener(e,i){return this.ioSocket.removeListener.apply(this.ioSocket,arguments)}removeAllListeners(e){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments)}fromEvent(e){return this.subscribersCounter[e]||(this.subscribersCounter[e]=0),this.subscribersCounter[e]++,this.eventObservables$[e]||(this.eventObservables$[e]=new rs(i=>{let n=r=>{i.next(r)};return this.ioSocket.on(e,n),()=>{this.subscribersCounter[e]--,this.subscribersCounter[e]===0&&(this.ioSocket.removeListener(e,n),delete this.eventObservables$[e])}}).pipe(ds())),this.eventObservables$[e]}fromOneTimeEvent(e){return new Promise(i=>this.once(e,i))}listeners(e){return this.ioSocket.listeners(e)}listenersAny(){return this.ioSocket.listenersAny()}listenersAnyOutgoing(){return this.ioSocket.listenersAnyOutgoing()}off(e,i){return e?e&&!i?this.ioSocket.off(e):this.ioSocket.off(e,i):this.ioSocket.offAny()}onAny(e){return this.ioSocket.onAny(e)}onAnyOutgoing(e){return this.ioSocket.onAnyOutgoing(e)}prependAny(e){return this.ioSocket.prependAny(e)}prependAnyOutgoing(e){return this.ioSocket.prependAnyOutgoing(e)}timeout(e){return this.ioSocket.timeout(e)}volatile(){return this.ioSocket.volatile}};_a=new V("__SOCKET_IO_CONFIG__"),ba=(()=>{class t{static forRoot(i){return{ngModule:t,providers:[{provide:_a,useValue:i},{provide:ot,useFactory:Ml,deps:[_a]}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=se({type:t});static \u0275inj=re({})}return t})()});function ht(t){return new pr(t)}function Rl(t,e,i){let n=i.path.split("/");if(n.length>t.length||i.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let r={};for(let s=0;s<n.length;s++){let o=n[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function Ol(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!de(t[i],e[i]))return!1;return!0}function de(t,e){let i=t?gr(t):void 0,n=e?gr(e):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let s=0;s<i.length;s++)if(r=i[s],!Ra(t[r],e[r]))return!1;return!0}function gr(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Ra(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let i=[...t].sort(),n=[...e].sort();return i.every((r,s)=>n[s]===r)}else return t===e}function Oa(t){return t.length>0?t[t.length-1]:null}function Re(t){return ss(t)?t:yn(t)?G(Promise.resolve(t)):f(t)}function wa(t,e,i){return Vl[i.paths](t.root,e.root,i.matrixParams)&&Va[i.queryParams](t.queryParams,e.queryParams)&&!(i.fragment==="exact"&&t.fragment!==e.fragment)}function kl(t,e){return de(t,e)}function ka(t,e,i){if(!$e(t.segments,e.segments)||!Zn(t.segments,e.segments,i)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!ka(t.children[n],e.children[n],i))return!1;return!0}function Tl(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(i=>Ra(t[i],e[i]))}function Ta(t,e,i){return Pa(t,e,e.segments,i)}function Pa(t,e,i,n){if(t.segments.length>i.length){let r=t.segments.slice(0,i.length);return!(!$e(r,i)||e.hasChildren()||!Zn(r,i,n))}else if(t.segments.length===i.length){if(!$e(t.segments,i)||!Zn(t.segments,i,n))return!1;for(let r in e.children)if(!t.children[r]||!Ta(t.children[r],e.children[r],n))return!1;return!0}else{let r=i.slice(0,t.segments.length),s=i.slice(t.segments.length);return!$e(t.segments,r)||!Zn(t.segments,r,n)||!t.children[v]?!1:Pa(t.children[v],e,s,n)}}function Zn(t,e,i){return e.every((n,r)=>Va[i](t[r].parameters,n.parameters))}function Pl(t,e){return $e(t,e)&&t.every((i,n)=>de(i.parameters,e[n].parameters))}function $e(t,e){return t.length!==e.length?!1:t.every((i,n)=>i.path===e[n].path)}function Nl(t,e){let i=[];return Object.entries(t.children).forEach(([n,r])=>{n===v&&(i=i.concat(e(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==v&&(i=i.concat(e(r,n)))}),i}function Qn(t){return t.segments.map(e=>Fa(e)).join("/")}function Gt(t,e){if(!t.hasChildren())return Qn(t);if(e){let i=t.children[v]?Gt(t.children[v],!1):"",n=[];return Object.entries(t.children).forEach(([r,s])=>{r!==v&&n.push(`${r}:${Gt(s,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=Nl(t,(n,r)=>r===v?[Gt(t.children[v],!1)]:[`${r}:${Gt(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[v]!=null?`${Qn(t)}/${i[0]}`:`${Qn(t)}/(${i.join("//")})`}}function Na(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wn(t){return Na(t).replace(/%3B/gi,";")}function Ll(t){return encodeURI(t)}function mr(t){return Na(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yn(t){return decodeURIComponent(t)}function Sa(t){return Yn(t.replace(/\+/g,"%20"))}function Fa(t){return`${mr(t.path)}${Ul(t.parameters)}`}function Ul(t){return Object.entries(t).map(([e,i])=>`;${mr(e)}=${mr(i)}`).join("")}function $l(t){let e=Object.entries(t).map(([i,n])=>Array.isArray(n)?n.map(r=>`${Wn(i)}=${Wn(r)}`).join("&"):`${Wn(i)}=${Wn(n)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}function ur(t){let e=t.match(jl);return e?e[0]:""}function Hl(t){let e=t.match(Bl);return e?e[0]:""}function Gl(t){let e=t.match(ql);return e?e[0]:""}function Wl(t){let e=t.match(zl);return e?e[0]:""}function La(t){return t.segments.length>0?new x([],{[v]:t}):t}function Ua(t){let e={};for(let[n,r]of Object.entries(t.children)){let s=Ua(r);if(n===v&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[n]=s)}let i=new x(t.segments,e);return Kl(i)}function Kl(t){if(t.numberOfChildren===1&&t.children[v]){let e=t.children[v];return new x(t.segments.concat(e.segments),e.children)}return t}function dt(t){return t instanceof De}function Zl(t,e,i=null,n=null){let r=$a(t);return ja(r,e,i,n)}function $a(t){let e;function i(s){let o={};for(let l of s.children){let c=i(l);o[l.outlet]=c}let a=new x(s.url,o);return s===t&&(e=a),a}let n=i(t.root),r=La(n);return e??r}function ja(t,e,i,n){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return hr(r,r,r,i,n);let s=Ql(e);if(s.toRoot())return hr(r,r,new x([],{}),i,n);let o=Yl(s,r,t),a=o.processChildren?Kt(o.segmentGroup,o.index,s.commands):Ha(o.segmentGroup,o.index,s.commands);return hr(r,o.segmentGroup,a,i,n)}function Jn(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Jt(t){return typeof t=="object"&&t!=null&&t.outlets}function hr(t,e,i,n,r){let s={};n&&Object.entries(n).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;t===e?o=i:o=Ba(t,e,i);let a=La(Ua(o));return new De(a,s,r)}function Ba(t,e,i){let n={};return Object.entries(t.children).forEach(([r,s])=>{s===e?n[r]=i:n[r]=Ba(s,e,i)}),new x(t.segments,n)}function Ql(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Xn(!0,0,t);let e=0,i=!1,n=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?i=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Xn(i,e,n)}function Yl(t,e,i){if(t.isAbsolute)return new lt(e,!0,0);if(!i)return new lt(e,!1,NaN);if(i.parent===null)return new lt(i,!0,0);let n=Jn(t.commands[0])?0:1,r=i.segments.length-1+n;return Jl(i,r,t.numberOfDoubleDots)}function Jl(t,e,i){let n=t,r=e,s=i;for(;s>r;){if(s-=r,n=n.parent,!n)throw new P(4005,!1);r=n.segments.length}return new lt(n,!1,r-s)}function Xl(t){return Jt(t[0])?t[0].outlets:{[v]:t}}function Ha(t,e,i){if(t??=new x([],{}),t.segments.length===0&&t.hasChildren())return Kt(t,e,i);let n=eu(t,e,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let s=new x(t.segments.slice(0,n.pathIndex),{});return s.children[v]=new x(t.segments.slice(n.pathIndex),t.children),Kt(s,0,r)}else return n.match&&r.length===0?new x(t.segments,{}):n.match&&!t.hasChildren()?yr(t,e,i):n.match?Kt(t,0,r):yr(t,e,i)}function Kt(t,e,i){if(i.length===0)return new x(t.segments,{});{let n=Xl(i),r={};if(Object.keys(n).some(s=>s!==v)&&t.children[v]&&t.numberOfChildren===1&&t.children[v].segments.length===0){let s=Kt(t.children[v],e,i);return new x(t.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=Ha(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{n[s]===void 0&&(r[s]=o)}),new x(t.segments,r)}}function eu(t,e,i){let n=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=i.length)return s;let o=t.segments[r],a=i[n];if(Jt(a))break;let l=`${a}`,c=n<i.length-1?i[n+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!Aa(l,c,o))return s;n+=2}else{if(!Aa(l,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function yr(t,e,i){let n=t.segments.slice(0,e),r=0;for(;r<i.length;){let s=i[r];if(Jt(s)){let l=tu(s.outlets);return new x(n,l)}if(r===0&&Jn(i[0])){let l=t.segments[e];n.push(new Ue(l.path,Ea(i[0]))),r++;continue}let o=Jt(s)?s.outlets[v]:`${s}`,a=r<i.length-1?i[r+1]:null;o&&a&&Jn(a)?(n.push(new Ue(o,Ea(a))),r+=2):(n.push(new Ue(o,{})),r++)}return new x(n,{})}function tu(t){let e={};return Object.entries(t).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[i]=yr(new x([],{}),0,n))}),e}function Ea(t){let e={};return Object.entries(t).forEach(([i,n])=>e[i]=`${n}`),e}function Aa(t,e,i){return t==i.path&&de(e,i.parameters)}function Rr(t,e){if(t===e.value)return e;for(let i of e.children){let n=Rr(t,i);if(n)return n}return null}function Or(t,e){if(t===e.value)return[e];for(let i of e.children){let n=Or(t,i);if(n.length)return n.unshift(e),n}return[]}function ct(t){let e={};return t&&t.children.forEach(i=>e[i.value.outlet]=i),e}function qa(t){let e=nu(t),i=new I([new Ue("",{})]),n=new I({}),r=new I({}),s=new I({}),o=new I(""),a=new pt(i,n,s,o,r,v,t,e.root);return a.snapshot=e.root,new ri(new X(a,[]),e)}function nu(t){let e={},i={},n={},r="",s=new nn([],e,n,r,i,v,t,null,{});return new si("",new X(s,[]))}function $r(t,e,i="emptyOnly"){let n,{routeConfig:r}=t;return e!==null&&(i==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:h(h({},e.params),t.params),data:h(h({},e.data),t.data),resolve:h(h(h(h({},t.data),e.data),r?.data),t._resolvedData)}:n={params:h({},t.params),data:h({},t.data),resolve:h(h({},t.data),t._resolvedData??{})},r&&za(r)&&(n.resolve[on]=r.title),n}function jr(t,e){e.value._routerState=t,e.children.forEach(i=>jr(t,i))}function Ga(t){let e=t.children.length>0?` { ${t.children.map(Ga).join(", ")} } `:"";return`${t.value}${e}`}function dr(t){if(t.snapshot){let e=t.snapshot,i=t._futureSnapshot;t.snapshot=i,de(e.queryParams,i.queryParams)||t.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&t.fragmentSubject.next(i.fragment),de(e.params,i.params)||t.paramsSubject.next(i.params),Ol(e.url,i.url)||t.urlSubject.next(i.url),de(e.data,i.data)||t.dataSubject.next(i.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Vr(t,e){let i=de(t.params,e.params)&&Pl(t.url,e.url),n=!t.parent!=!e.parent;return i&&!n&&(!t.parent||Vr(t.parent,e.parent))}function za(t){return typeof t.title=="string"||t.title===null}function ru(t,e,i){let n=rn(t,e._root,i?i._root:void 0);return new ri(n,e)}function rn(t,e,i){if(i&&t.shouldReuseRoute(e.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=e.value;let r=su(t,e,i);return new X(n,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>rn(t,a)),o}}let n=ou(e.value),r=e.children.map(s=>rn(t,s));return new X(n,r)}}function su(t,e,i){return e.children.map(n=>{for(let r of i.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return rn(t,n,r);return rn(t,n)})}function ou(t){return new pt(new I(t.url),new I(t.params),new I(t.queryParams),new I(t.fragment),new I(t.data),t.outlet,t.component,t)}function Ka(t,e){let{redirectTo:i,navigationBehaviorOptions:n}=dt(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Za(!1,ee.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function Za(t,e){let i=new Error(`NavigationCancelingError: ${t||""}`);return i[Wa]=!0,i.cancellationCode=e,i}function au(t){return Qa(t)&&dt(t.url)}function Qa(t){return!!t&&t[Wa]}function lu(t,e){return t.providers&&!t._injector&&(t._injector=Ai(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Br(t){let e=t.children&&t.children.map(Br),i=e?k(h({},t),{children:e}):h({},t);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==v&&(i.component=cu),i}function fe(t){return t.outlet||v}function uu(t,e){let i=t.filter(n=>fe(n)===e);return i.push(...t.filter(n=>fe(n)!==e)),i}function ln(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}function du(t,e,i){let n=t._root,r=e?e._root:null;return zt(n,r,i,[n.value])}function fu(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function mt(t,e){let i=Symbol(),n=e.get(t,i);return n===i?typeof t=="function"&&!ps(t)?t:e.get(t):n}function zt(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=ct(e);return t.children.forEach(o=>{pu(o,s[o.value.outlet],i,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Qt(a,i.getContext(o),r)),r}function pu(t,e,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=i?i.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=gu(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new oi(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?zt(t,e,a?a.children:null,n,r):zt(t,e,i,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ut(a.outlet.component,o))}else o&&Qt(e,a,r),r.canActivateChecks.push(new oi(n)),s.component?zt(t,null,a?a.children:null,n,r):zt(t,null,i,n,r);return r}function gu(t,e,i){if(typeof i=="function")return i(t,e);switch(i){case"pathParamsChange":return!$e(t.url,e.url);case"pathParamsOrQueryParamsChange":return!$e(t.url,e.url)||!de(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vr(t,e)||!de(t.queryParams,e.queryParams);case"paramsChange":default:return!Vr(t,e)}}function Qt(t,e,i){let n=ct(t),r=t.value;Object.entries(n).forEach(([s,o])=>{r.component?e?Qt(o,e.children.getContext(s),i):Qt(o,null,i):Qt(o,e,i)}),r.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new ut(e.outlet.component,r)):i.canDeactivateChecks.push(new ut(null,r)):i.canDeactivateChecks.push(new ut(null,r))}function un(t){return typeof t=="function"}function mu(t){return typeof t=="boolean"}function vu(t){return t&&un(t.canLoad)}function yu(t){return t&&un(t.canActivate)}function Cu(t){return t&&un(t.canActivateChild)}function _u(t){return t&&un(t.canDeactivate)}function bu(t){return t&&un(t.canMatch)}function Ya(t){return t instanceof os||t?.name==="EmptyError"}function gt(){return ie(t=>Be(t.map(e=>e.pipe(Ge(1),fs(Kn)))).pipe(b(e=>{for(let i of e)if(i!==!0){if(i===Kn)return Kn;if(i===!1||i instanceof De)return i}return!0}),Ve(e=>e!==Kn),Ge(1)))}function wu(t,e){return Q(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=i;return o.length===0&&s.length===0?f(k(h({},i),{guardsResult:!0})):Su(o,n,r,t).pipe(Q(a=>a&&mu(a)?Eu(n,s,t,e):f(a)),b(a=>k(h({},i),{guardsResult:a})))})}function Su(t,e,i,n){return G(t).pipe(Q(r=>Iu(r.component,r.route,i,e,n)),be(r=>r!==!0,!0))}function Eu(t,e,i,n){return G(e).pipe(qe(r=>as(xu(r.route.parent,n),Au(r.route,n),Mu(t,r.path,i),Du(t,r.route,i))),be(r=>r!==!0,!0))}function Au(t,e){return t!==null&&e&&e(new Dr(t)),f(!0)}function xu(t,e){return t!==null&&e&&e(new Ar(t)),f(!0)}function Du(t,e,i){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return f(!0);let r=n.map(s=>_i(()=>{let o=ln(e)??i,a=mt(s,o),l=yu(a)?a.canActivate(e,t):Se(o,()=>a(e,t));return Re(l).pipe(be())}));return f(r).pipe(gt())}function Mu(t,e,i){let n=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>fu(o)).filter(o=>o!==null).map(o=>_i(()=>{let a=o.guards.map(l=>{let c=ln(o.node)??i,u=mt(l,c),y=Cu(u)?u.canActivateChild(n,t):Se(c,()=>u(n,t));return Re(y).pipe(be())});return f(a).pipe(gt())}));return f(s).pipe(gt())}function Iu(t,e,i,n,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return f(!0);let o=s.map(a=>{let l=ln(e)??r,c=mt(a,l),u=_u(c)?c.canDeactivate(t,e,i,n):Se(l,()=>c(t,e,i,n));return Re(u).pipe(be())});return f(o).pipe(gt())}function Ru(t,e,i,n){let r=e.canLoad;if(r===void 0||r.length===0)return f(!0);let s=r.map(o=>{let a=mt(o,t),l=vu(a)?a.canLoad(e,i):Se(t,()=>a(e,i));return Re(l)});return f(s).pipe(gt(),Ja(n))}function Ja(t){return is(j(e=>{if(dt(e))throw Ka(t,e)}),b(e=>e===!0))}function Ou(t,e,i,n){let r=e.canMatch;if(!r||r.length===0)return f(!0);let s=r.map(o=>{let a=mt(o,t),l=bu(a)?a.canMatch(e,i):Se(t,()=>a(e,i));return Re(l)});return f(s).pipe(gt(),Ja(n))}function at(t){return _t(new sn(t))}function Vu(t){return _t(new P(4e3,!1))}function ku(t){return _t(Za(!1,ee.GuardRejected))}function Tu(t,e,i,n,r){let s=Hr(t,e,i);return s.matched?(n=lu(e,n),Ou(n,e,i,r).pipe(b(o=>o===!0?s:h({},Nr)))):f(s)}function Hr(t,e,i){if(e.path==="**")return Pu(i);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||i.length>0)?h({},Nr):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(e.matcher||Rl)(i,t,e);if(!r)return h({},Nr);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?h(h({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Pu(t){return{matched:!0,parameters:t.length>0?Oa(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Da(t,e,i,n){return i.length>0&&Lu(t,i,n)?{segmentGroup:new x(e,Fu(n,new x(i,t.children))),slicedSegments:[]}:i.length===0&&Uu(t,i,n)?{segmentGroup:new x(t.segments,Nu(t,i,n,t.children)),slicedSegments:i}:{segmentGroup:new x(t.segments,t.children),slicedSegments:i}}function Nu(t,e,i,n){let r={};for(let s of i)if(hi(t,e,s)&&!n[fe(s)]){let o=new x([],{});r[fe(s)]=o}return h(h({},n),r)}function Fu(t,e){let i={};i[v]=e;for(let n of t)if(n.path===""&&fe(n)!==v){let r=new x([],{});i[fe(n)]=r}return i}function Lu(t,e,i){return i.some(n=>hi(t,e,n)&&fe(n)!==v)}function Uu(t,e,i){return i.some(n=>hi(t,e,n))}function hi(t,e,i){return(t.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function $u(t,e,i,n){return fe(t)!==n&&(n===v||!hi(e,i,t))?!1:Hr(e,t,i).matched}function ju(t,e,i){return e.length===0&&!t.children[i]}function Bu(t,e,i,n,r,s,o="emptyOnly"){return new Lr(t,e,i,n,r,o,s).recognize()}function qu(t){t.sort((e,i)=>e.value.outlet===v?-1:i.value.outlet===v?1:e.value.outlet.localeCompare(i.value.outlet))}function Gu(t){let e=t.value.routeConfig;return e&&e.path===""}function Xa(t){let e=[],i=new Set;for(let n of t){if(!Gu(n)){e.push(n);continue}let r=e.find(s=>n.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):e.push(n)}for(let n of i){let r=Xa(n.children);e.push(new X(n.value,r))}return e.filter(n=>!i.has(n))}function zu(t){return t.data||{}}function Wu(t){return t.resolve||{}}function Ku(t,e,i,n,r,s){return Q(o=>Bu(t,e,i,n,o.extractedUrl,r,s).pipe(b(({state:a,tree:l})=>k(h({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function Zu(t,e){return Q(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return f(i);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of ec(l))o.add(c);let a=0;return G(o).pipe(qe(l=>s.has(l)?Qu(l,n,t,e):(l.data=$r(l,l.parent,t).resolve,f(void 0))),j(()=>a++),wi(1),Q(l=>a===o.size?f(i):_e))})}function ec(t){let e=t.children.map(i=>ec(i)).flat();return[t,...e]}function Qu(t,e,i,n){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!za(r)&&(s[on]=r.title),Yu(s,t,e,n).pipe(b(o=>(t._resolvedData=o,t.data=$r(t,t.parent,i).resolve,null)))}function Yu(t,e,i,n){let r=gr(t);if(r.length===0)return f({});let s={};return G(r).pipe(Q(o=>Ju(t[o],e,i,n).pipe(be(),j(a=>{s[o]=a}))),wi(1),ls(s),He(o=>Ya(o)?_e:_t(o)))}function Ju(t,e,i,n){let r=ln(e)??n,s=mt(t,r),o=s.resolve?s.resolve(e,i):Se(r,()=>s(e,i));return Re(o)}function fr(t){return ie(e=>{let i=t(e);return i?G(i).pipe(b(()=>e)):f(e)})}function eh(t,e,i,n){return Re(t.loadChildren()).pipe(b(nc),Q(r=>r instanceof ws||Array.isArray(r)?f(r):G(e.compileModuleAsync(r))),b(r=>{n&&n(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(i).injector,o=s.get(ci,[],{optional:!0,self:!0}).flat()),{routes:o.map(Br),injector:s}}))}function th(t){return t&&typeof t=="object"&&"default"in t}function nc(t){return th(t)?t.default:t}function ih(t,e,i){let n=t.get(rc),r=t.get(Rs);return t.get(Ze).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),rh(t))),{onViewTransitionCreated:l}=n;return l&&Se(t,()=>l({transition:a,from:e,to:i})),o})}function rh(t){return new Promise(e=>{_s(e,{injector:t})})}function sh(t){return t!==Zt}function oc(t,e){t.events.pipe(Ve(i=>i instanceof Ce||i instanceof Me||i instanceof Xt||i instanceof Ie),b(i=>i instanceof Ce||i instanceof Ie?Wt.COMPLETE:(i instanceof Me?i.code===ee.Redirect||i.code===ee.SupersededByNewNavigation:!1)?Wt.REDIRECTING:Wt.FAILED),Ve(i=>i!==Wt.REDIRECTING),Ge(1)).subscribe(()=>{e()})}function lh(t){throw t}function dh(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new P(4008,!1)}function fh(t){return!(t instanceof en)&&!(t instanceof tn)}function mh(t){return t.routerState.root}function dn(t,e){return{\u0275kind:t,\u0275providers:e}}function vh(){let t=p(gn);return e=>{let i=t.get(Ms);if(e!==i.components[0])return;let n=t.get(je),r=t.get(cc);t.get(Wr)===1&&n.initialNavigation(),t.get(lc,null,Ei.Optional)?.setUpPreloading(),t.get(ac,null,Ei.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}function yh(){return dn(2,[{provide:Wr,useValue:0},{provide:Ii,multi:!0,deps:[gn],useFactory:e=>{let i=e.get(Os,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let r=e.get(je),s=e.get(cc);oc(r,()=>{n(!0)}),e.get(zr).afterPreactivation=()=>(n(!0),s.closed?f(void 0):s),r.initialNavigation()}))}}])}function Ch(){return dn(3,[{provide:Ii,multi:!0,useFactory:()=>{let e=p(je);return()=>{e.setUpLocationChangeListener()}}},{provide:Wr,useValue:2}])}function _h(t){return dn(0,[{provide:lc,useExisting:ph},{provide:li,useExisting:t}])}function bh(){return dn(8,[xa,{provide:ui,useExisting:xa}])}function wh(t){let e=[{provide:ic,useValue:ih},{provide:rc,useValue:h({skipNextTransition:!!t?.skipInitialTransition},t)}];return dn(9,e)}function Eh(){return{provide:ac,useFactory:()=>{let t=p(js),e=p(Ze),i=p(hn),n=p(zr),r=p(an);return i.scrollOffset&&t.setOffset(i.scrollOffset),new gh(r,n,t,e,i)}}}function Ah(){return{provide:Oi,useClass:ks}}function xh(){return{provide:Oi,useClass:Vs}}function Dh(t){return"guarded"}function Mh(t){return[t.initialNavigation==="disabled"?Ch().\u0275providers:[],t.initialNavigation==="enabledBlocking"?yh().\u0275providers:[]]}function Ih(){return[{provide:Ia,useFactory:vh},{provide:Ds,multi:!0,useExisting:Ia}]}var v,on,pr,Vl,Va,De,x,Ue,an,Yt,Fl,jl,Bl,ql,zl,vr,Xn,lt,Zt,F,ne,ft,Ce,ee,ei,Me,Ie,Xt,ti,Cr,_r,br,wr,Sr,Er,Ar,xr,Dr,Mr,ni,en,tn,Ir,cn,ii,X,ri,pt,nn,si,iu,kr,ui,xa,Wa,cu,hu,Tr,oi,ut,Kn,sn,ai,Pr,Nr,Fr,Hu,Lr,tc,Xu,hn,ci,qr,Gr,nh,ic,rc,zr,oh,Ur,ah,sc,ch,Wt,uh,hh,je,li,ph,ac,gh,cc,Wr,lc,Ma,Sh,Kr,Ia,uc=d(()=>{"use strict";N();N();we();me();Si();Gs();v="primary",on=Symbol("RouteTitle"),pr=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};Vl={exact:ka,subset:Ta},Va={exact:kl,subset:Tl,ignored:()=>!0};De=class{constructor(e=new x([],{}),i={},n=null){this.root=e,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=ht(this.queryParams),this._queryParamMap}toString(){return Fl.serialize(this)}},x=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qn(this)}},Ue=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=ht(this.parameters),this._parameterMap}toString(){return Fa(this)}};an=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>new Yt,providedIn:"root"});let t=e;return t})(),Yt=class{parse(e){let i=new vr(e);return new De(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${Gt(e.root,!0)}`,n=$l(e.queryParams),r=typeof e.fragment=="string"?`#${Ll(e.fragment)}`:"";return`${i}${n}${r}`}},Fl=new Yt;jl=/^[^\/()?;#]+/;Bl=/^[^\/()?;=#]+/;ql=/^[^=?&#]+/;zl=/^[^&#]+/;vr=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new x([],{}):new x([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(n[v]=new x(e,i)),n}parseSegment(){let e=ur(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new Ue(Yn(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=Hl(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=ur(this.remaining);r&&(n=r,this.capture(n))}e[Yn(i)]=Yn(n)}parseQueryParam(e){let i=Gl(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let o=Wl(this.remaining);o&&(n=o,this.capture(n))}let r=Sa(i),s=Sa(n);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=ur(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new P(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=v);let o=this.parseChildren();i[s]=Object.keys(o).length===1?o[v]:new x([],o),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}};Xn=class{constructor(e,i,n){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=n,e&&n.length>0&&Jn(n[0]))throw new P(4003,!1);let r=n.find(Jt);if(r&&r!==Oa(n))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};lt=class{constructor(e,i,n){this.segmentGroup=e,this.processChildren=i,this.index=n}};Zt="imperative",F=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(F||{}),ne=class{constructor(e,i){this.id=e,this.url=i}},ft=class extends ne{constructor(e,i,n="imperative",r=null){super(e,i),this.type=F.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ce=class extends ne{constructor(e,i,n){super(e,i),this.urlAfterRedirects=n,this.type=F.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ee=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ee||{}),ei=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ei||{}),Me=class extends ne{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=F.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ie=class extends ne{constructor(e,i,n,r){super(e,i),this.reason=n,this.code=r,this.type=F.NavigationSkipped}},Xt=class extends ne{constructor(e,i,n,r){super(e,i),this.error=n,this.target=r,this.type=F.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ti=class extends ne{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=F.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cr=class extends ne{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=F.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_r=class extends ne{constructor(e,i,n,r,s){super(e,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=F.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},br=class extends ne{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=F.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wr=class extends ne{constructor(e,i,n,r){super(e,i),this.urlAfterRedirects=n,this.state=r,this.type=F.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sr=class{constructor(e){this.route=e,this.type=F.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Er=class{constructor(e){this.route=e,this.type=F.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ar=class{constructor(e){this.snapshot=e,this.type=F.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xr=class{constructor(e){this.snapshot=e,this.type=F.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dr=class{constructor(e){this.snapshot=e,this.type=F.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mr=class{constructor(e){this.snapshot=e,this.type=F.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ni=class{constructor(e,i,n){this.routerEvent=e,this.position=i,this.anchor=n,this.type=F.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},en=class{},tn=class{constructor(e){this.url=e}},Ir=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new cn,this.attachRef=null}},cn=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let s=this.getOrCreateContext(n);s.outlet=r,this.contexts.set(n,s)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Ir,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ii=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=Rr(e,this._root);return i?i.children.map(n=>n.value):[]}firstChild(e){let i=Rr(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=Or(e,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Or(e,this._root).map(i=>i.value)}};X=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};ri=class extends ii{constructor(e,i){super(e),this.snapshot=i,jr(this,e)}toString(){return this.snapshot.toString()}};pt=class{constructor(e,i,n,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(b(c=>c[on]))??f(void 0),this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(b(e=>ht(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(b(e=>ht(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};nn=class{get title(){return this.data?.[on]}constructor(e,i,n,r,s,o,a,l,c){this.url=e,this.params=i,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ht(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ht(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},si=class extends ii{constructor(e,i){super(i),this.url=e,jr(this,i)}toString(){return Ga(this._root)}};iu=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=v,this.activateEvents=new le,this.deactivateEvents=new le,this.attachEvents=new le,this.detachEvents=new le,this.parentContexts=p(cn),this.location=p(bs),this.changeDetector=p(_n),this.environmentInjector=p(wt),this.inputBinder=p(ui,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:s}=n.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=n;let s=this.location,a=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new kr(n,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=te({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[St]});let t=e;return t})(),kr=class{constructor(e,i,n){this.route=e,this.childContexts=i,this.parent=n}get(e,i){return e===pt?this.route:e===cn?this.childContexts:this.parent.get(e,i)}},ui=new V(""),xa=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,s=Be([r.queryParams,r.params,r.data]).pipe(ie(([o,a,l],c)=>(l=h(h(h({},o),a),l),c===0?f(l):Promise.resolve(l)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=Is(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of a.inputs)n.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(n,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();Wa="ngNavigationCancelingError";cu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["ng-component"]],standalone:!0,features:[Es],decls:1,vars:0,template:function(r,s){r&1&&E(0,"router-outlet")},dependencies:[iu],encapsulation:2});let t=e;return t})();hu=(t,e,i,n)=>b(r=>(new Tr(e,r.targetRouterState,r.currentRouterState,i,n).activate(t),r)),Tr=class{constructor(e,i,n,r,s){this.routeReuseStrategy=e,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,e),dr(this.futureState.root),this.activateChildRoutes(i,n,e)}deactivateChildRoutes(e,i,n){let r=ct(i);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(e,i,n){let r=e.value,s=i?i.value:null;if(r===s)if(r.component){let o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(e,i,o.children)}else this.deactivateChildRoutes(e,i,n);else s&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,s=ct(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,i){let n=i.getContext(e.value.outlet),r=n&&e.value.component?n.children:i,s=ct(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,i,n){let r=ct(i);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new Mr(s.value.snapshot))}),e.children.length&&this.forwardEvent(new xr(e.value.snapshot))}activateRoutes(e,i,n){let r=e.value,s=i?i.value:null;if(dr(r),r===s)if(r.component){let o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,i,o.children)}else this.activateChildRoutes(e,i,n);else if(r.component){let o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),dr(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ln(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}},oi=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ut=class{constructor(e,i){this.component=e,this.route=i}};Kn=Symbol("INITIAL_VALUE");sn=class{constructor(e){this.segmentGroup=e||null}},ai=class extends Error{constructor(e){super(),this.urlTree=e}};Pr=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return f(n);if(r.numberOfChildren>1||!r.children[v])return Vu(e.redirectTo);r=r.children[v]}}applyRedirectCommands(e,i,n){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,n);if(i.startsWith("/"))throw new ai(r);return r}applyRedirectCreateUrlTree(e,i,n,r){let s=this.createSegmentGroup(e,i.root,n,r);return new De(s,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let n={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);n[r]=i[a]}else n[r]=s}),n}createSegmentGroup(e,i,n,r){let s=this.createSegments(e,i.segments,n,r),o={};return Object.entries(i.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,n,r)}),new x(s,o)}createSegments(e,i,n,r){return i.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,n))}findPosParam(e,i,n){let r=n[i.path.substring(1)];if(!r)throw new P(4001,!1);return r}findOrReturn(e,i){let n=0;for(let r of i){if(r.path===e.path)return i.splice(n),r;n++}return e}},Nr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};Fr=class{};Hu=31,Lr=class{constructor(e,i,n,r,s,o,a){this.injector=e,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Pr(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new P(4002,`'${e.segmentGroup}'`)}recognize(){let e=Da(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(b(i=>{let n=new nn([],Object.freeze({}),Object.freeze(h({},this.urlTree.queryParams)),this.urlTree.fragment,{},v,this.rootComponentType,null,{}),r=new X(n,i),s=new si("",r),o=Zl(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,v).pipe(He(n=>{if(n instanceof ai)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof sn?this.noMatchError(n):n}))}inheritParamsAndData(e,i){let n=e.value,r=$r(n,i,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,n))}processSegmentGroup(e,i,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,i,n):this.processSegment(e,i,n,n.segments,r,!0).pipe(b(s=>s instanceof X?[s]:[]))}processChildren(e,i,n){let r=[];for(let s of Object.keys(n.children))s==="primary"?r.unshift(s):r.push(s);return G(r).pipe(qe(s=>{let o=n.children[s],a=uu(i,s);return this.processSegmentGroup(e,a,o,s)}),hs((s,o)=>(s.push(...o),s)),bi(null),us(),Q(s=>{if(s===null)return at(n);let o=Xa(s);return qu(o),f(o)}))}processSegment(e,i,n,r,s,o){return G(i).pipe(qe(a=>this.processSegmentAgainstRoute(a._injector??e,i,a,n,r,s,o).pipe(He(l=>{if(l instanceof sn)return f(null);throw l}))),be(a=>!!a),He(a=>{if(Ya(a))return ju(n,r,s)?f(new Fr):at(n);throw a}))}processSegmentAgainstRoute(e,i,n,r,s,o,a){return $u(n,r,s,o)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,n,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,n,s,o):at(r):at(r)}expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=Hr(i,r,s);if(!a)return at(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Hu&&(this.allowRedirects=!1));let y=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,y).pipe(Q(g=>this.processSegment(e,n,i,g.concat(u),o,!1)))}matchSegmentAgainstRoute(e,i,n,r,s){let o=Tu(i,n,r,e,this.urlSerializer);return n.path==="**"&&(i.children={}),o.pipe(ie(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,r).pipe(ie(({routes:l})=>{let c=n._loadedInjector??e,{consumedSegments:u,remainingSegments:y,parameters:g}=a,D=new nn(u,g,Object.freeze(h({},this.urlTree.queryParams)),this.urlTree.fragment,zu(n),fe(n),n.component??n._loadedComponent??null,n,Wu(n)),{segmentGroup:yt,slicedSegments:Ct}=Da(i,u,y,l);if(Ct.length===0&&yt.hasChildren())return this.processChildren(c,l,yt).pipe(b(Oe=>Oe===null?null:new X(D,Oe)));if(l.length===0&&Ct.length===0)return f(new X(D,[]));let mi=fe(n)===s;return this.processSegment(c,l,yt,Ct,mi?v:s,!0).pipe(b(Oe=>new X(D,Oe instanceof X?[Oe]:[])))}))):at(i)))}getChildConfig(e,i,n){return i.children?f({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?f({routes:i._loadedRoutes,injector:i._loadedInjector}):Ru(e,i,n,this.urlSerializer).pipe(Q(r=>r?this.configLoader.loadChildren(e,i).pipe(j(s=>{i._loadedRoutes=s.routes,i._loadedInjector=s.injector})):ku(i))):f({routes:[],injector:e})}};tc=(()=>{let e=class e{buildTitle(n){let r,s=n.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===v);return r}getResolvedTitleForRoute(n){return n.data[on]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>p(Xu),providedIn:"root"});let t=e;return t})(),Xu=(()=>{let e=class e extends tc{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(z(qs))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hn=new V("",{providedIn:"root",factory:()=>({})}),ci=new V(""),qr=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=p(Cn)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return f(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Re(n.loadComponent()).pipe(b(nc),j(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),pn(()=>{this.componentLoaders.delete(n)})),s=new yi(r,()=>new $).pipe(vi());return this.componentLoaders.set(n,s),s}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return f({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=eh(r,this.compiler,n,this.onLoadEndListener).pipe(pn(()=>{this.childrenLoaders.delete(r)})),a=new yi(o,()=>new $).pipe(vi());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();Gr=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>p(nh),providedIn:"root"});let t=e;return t})(),nh=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ic=new V(""),rc=new V("");zr=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new $,this.transitionAbortSubject=new $,this.configLoader=p(qr),this.environmentInjector=p(wt),this.urlSerializer=p(an),this.rootContexts=p(cn),this.location=p(Dt),this.inputBindingEnabled=p(ui,{optional:!0})!==null,this.titleStrategy=p(tc),this.options=p(hn,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=p(Gr),this.createViewTransition=p(ic,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>f(void 0),this.rootComponentType=null;let n=s=>this.events.next(new Sr(s)),r=s=>this.events.next(new Er(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(k(h(h({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,s){return this.transitions=new I({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zt,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ve(o=>o.id!==0),b(o=>k(h({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ie(o=>{let a=!1,l=!1;return f(o).pipe(ie(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ee.SupersededByNewNavigation),_e;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?k(h({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),y=c.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&y!=="reload"){let g="";return this.events.next(new Ie(c.id,this.urlSerializer.serialize(c.rawUrl),g,ei.IgnoredSameUrlNavigation)),c.resolve(null),_e}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return f(c).pipe(ie(g=>{let D=this.transitions?.getValue();return this.events.next(new ft(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),D!==this.transitions?.getValue()?_e:Promise.resolve(g)}),Ku(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),j(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=k(h({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let D=new ti(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(D)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:g,extractedUrl:D,source:yt,restoredState:Ct,extras:mi}=c,Oe=new ft(g,this.urlSerializer.serialize(D),yt,Ct);this.events.next(Oe);let Ac=qa(this.rootComponentType).snapshot;return this.currentTransition=o=k(h({},c),{targetSnapshot:Ac,urlAfterRedirects:D,extras:k(h({},mi),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=D,f(o)}else{let g="";return this.events.next(new Ie(c.id,this.urlSerializer.serialize(c.extractedUrl),g,ei.IgnoredByUrlHandlingStrategy)),c.resolve(null),_e}}),j(c=>{let u=new Cr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),b(c=>(this.currentTransition=o=k(h({},c),{guards:du(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),wu(this.environmentInjector,c=>this.events.next(c)),j(c=>{if(o.guardsResult=c.guardsResult,dt(c.guardsResult))throw Ka(this.urlSerializer,c.guardsResult);let u=new _r(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Ve(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",ee.GuardRejected),!1)),fr(c=>{if(c.guards.canActivateChecks.length)return f(c).pipe(j(u=>{let y=new br(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(y)}),ie(u=>{let y=!1;return f(u).pipe(Zu(this.paramsInheritanceStrategy,this.environmentInjector),j({next:()=>y=!0,complete:()=>{y||this.cancelNavigationTransition(u,"",ee.NoDataFromResolver)}}))}),j(u=>{let y=new wr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(y)}))}),fr(c=>{let u=y=>{let g=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(y.routeConfig).pipe(j(D=>{y.component=D}),b(()=>{})));for(let D of y.children)g.push(...u(D));return g};return Be(u(c.targetSnapshot.root)).pipe(bi(null),Ge(1))}),fr(()=>this.afterPreactivation()),ie(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,y=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return y?G(y).pipe(b(()=>o)):f(o)}),b(c=>{let u=ru(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=k(h({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),j(()=>{this.events.next(new en)}),hu(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ge(1),j({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ce(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),K(this.transitionAbortSubject.pipe(j(c=>{throw c}))),pn(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",ee.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),He(c=>{if(l=!0,Qa(c))this.events.next(new Me(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),au(c)?this.events.next(new tn(c.url)):o.resolve(!1);else{this.events.next(new Xt(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return _e}))}))}cancelNavigationTransition(n,r,s){let o=new Me(n.id,this.urlSerializer.serialize(n.extractedUrl),r,s);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();oh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>p(ah),providedIn:"root"});let t=e;return t})(),Ur=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},ah=(()=>{let e=class e extends Ur{};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>p(ch),providedIn:"root"});let t=e;return t})(),ch=(()=>{let e=class e extends sc{constructor(){super(...arguments),this.location=p(Dt),this.urlSerializer=p(an),this.options=p(hn,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=p(Gr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new De,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=qa(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ft)this.stateMemento=this.createStateMemento();else if(n instanceof Ie)this.rawUrlTree=r.initialUrl;else if(n instanceof ti){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else n instanceof en?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Me&&(n.code===ee.GuardRejected||n.code===ee.NoDataFromResolver)?this.restoreHistory(r):n instanceof Xt?this.restoreHistory(r,!0):n instanceof Ce&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let s=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=h(h({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=h(h({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(s){return(n||(n=We(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wt=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Wt||{});uh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},je=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=p(xs),this.stateManager=p(sc),this.options=p(hn,{optional:!0})||{},this.pendingTasks=p(Ss),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=p(zr),this.urlSerializer=p(an),this.location=p(Dt),this.urlHandlingStrategy=p(Gr),this._events=new $,this.errorHandler=this.options.errorHandler||lh,this.navigated=!1,this.routeReuseStrategy=p(oh),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=p(ci,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!p(ui,{optional:!0}),this.eventsSubscription=new ns,this.isNgZoneEnabled=p(Ze)instanceof Ze&&Ze.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Me&&r.code!==ee.Redirect&&r.code!==ee.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ce)this.navigated=!0;else if(r instanceof tn){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),l={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||sh(s.source)};this.scheduleNavigation(a,Zt,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}fh(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=h({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Br),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:a,y=null;switch(l){case"merge":y=h(h({},this.currentUrlTree.queryParams),o);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=o||null}y!==null&&(y=this.removeEmptyProps(y));let g;try{let D=s?s.snapshot:this.routerState.snapshot.root;g=$a(D)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),g=this.currentUrlTree.root}return ja(g,n,y,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let s=dt(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Zt,null,r)}navigate(n,r={skipLocationChange:!1}){return dh(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let s;if(r===!0?s=h({},uh):r===!1?s=h({},hh):s=r,dt(n))return wa(this.currentUrlTree,n,s);let o=this.parseUrl(n);return wa(this.currentUrlTree,o,s)}removeEmptyProps(n){return Object.entries(n).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(n,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((g,D)=>{l=g,c=D});let y=this.pendingTasks.add();return oc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(g=>Promise.reject(g))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();li=class{},ph=(()=>{let e=class e{constructor(n,r,s,o,a){this.router=n,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ve(n=>n instanceof Ce),qe(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Ai(o.providers,n,`Route: ${o.path}`));let a=o._injector??n,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return G(s).pipe(Ci())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(n,r):s=f(null);let o=s.pipe(Q(a=>a===null?f(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??n,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return G([o,a]).pipe(Ci())}else return o})}};e.\u0275fac=function(r){return new(r||e)(z(je),z(Cn),z(wt),z(li),z(qr))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ac=new V(""),gh=(()=>{let e=class e{constructor(n,r,s,o,a={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ft?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ce?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ie&&n.code===ei.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ni&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ni(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){Cs()},e.\u0275prov=R({token:e,factory:e.\u0275fac});let t=e;return t})();cc=new V("",{factory:()=>new $}),Wr=new V("",{providedIn:"root",factory:()=>1});lc=new V("");Ma=new V("ROUTER_FORROOT_GUARD"),Sh=[Dt,{provide:an,useClass:Yt},je,cn,{provide:pt,useFactory:mh,deps:[je]},qr,[]],Kr=(()=>{let e=class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[Sh,[],{provide:ci,multi:!0,useValue:n},{provide:Ma,useFactory:Dh,deps:[[je,new gs,new ms]]},{provide:hn,useValue:r||{}},r?.useHash?Ah():xh(),Eh(),r?.preloadingStrategy?_h(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Mh(r):[],r?.bindToComponentInputs?bh().\u0275providers:[],r?.enableViewTransitions?wh().\u0275providers:[],Ih()]}}static forChild(n){return{ngModule:e,providers:[{provide:ci,multi:!0,useValue:n}]}}};e.\u0275fac=function(r){return new(r||e)(z(Ma,8))},e.\u0275mod=se({type:e}),e.\u0275inj=re({});let t=e;return t})();Ia=new V("")});var Rh,hc,dc=d(()=>{"use strict";uc();N();Rh=[],hc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=se({type:e}),e.\u0275inj=re({imports:[Kr.forRoot(Rh),Kr]});let t=e;return t})()});var Zr,fc=d(()=>{"use strict";Zr="currentList"});var pc,gc=d(()=>{"use strict";me();N();N();pc=(()=>{let e=class e{constructor(n){this.platformId=n,this.storage=null,$s(this.platformId)&&(this.storage=window.localStorage)}get(n){return this.storage?this.storage.getItem(n):null}set(n,r){this.storage&&this.storage.setItem(n,r)}clear(){this.storage&&this.storage.clear()}remove(n){this.storage&&this.storage.removeItem(n)}};e.\u0275fac=function(r){return new(r||e)(z(ys))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})()});var di,Qr=d(()=>{"use strict";N();lr();di=(()=>{let e=class e{constructor(n){this.socket=n}sendMessage(n,r){this.socket.emit(n,r)}getMessage(n){return this.socket.fromEvent(n)}};e.\u0275fac=function(r){return new(r||e)(z(ot))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})()});var pe,vt=d(()=>{"use strict";we();fc();Zs();N();gc();Qr();pe=(()=>{let e=class e{constructor(n,r){this.storageService=n,this.socketService=r,this.currentList$=new I([]),this.key$=new I(""),this.listId$=new I(""),this.hasPartner$=new I(!1),this.lastSentList$=new I(""),this.isEditable$=new I(!1),this.addItemInvalid$=new I(!1),this.addItemValue$=new I(""),this.addItemInputFocused$=new $,this.resetForm$=new $}get list$(){return this.currentList$}init(){let n=Ks();if(n){this.key$.next(n);let r=this.storageService.get(Zr);r&&this.setList(JSON.parse(r),!0)}else this.listId$.next(Ws())}setList(n,r=!1){this.currentList$.next(n),r||this.storageService.set(Zr,JSON.stringify(n))}addItem(n){let r=[n,...this.currentList$.value];this.setList(r)}editItem(n){let r=[...this.currentList$.value],s=r.findIndex(o=>o.id===n.id);r[s].text=n.text,this.setList(r)}changeStatus(n){let r=[...this.currentList$.value],s=r.findIndex(o=>o.id===n.id);if(r.splice(s,1),n.status)r.push(n);else{let o=r.findIndex(a=>a.status);r.splice(o,0,n)}this.setList(r)}deleteItem(n){let r=[...this.currentList$.value],s=r.findIndex(o=>o.id===n);r.splice(s,1),this.setList(r)}sendListToPartner(){let n=this.list$.value.filter(r=>!r.status);if(n){let r=JSON.stringify(n);this.lastSentList$.next(r),this.socketService.sendMessage("sentListToPartner",r)}}};e.\u0275fac=function(r){return new(r||e)(z(pc),z(di))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})()});function Vh(t,e){t&1&&(ce(),m(0,"svg",3),E(1,"g",4)(2,"g",5),m(3,"g",6),E(4,"path",7),C()())}function kh(t,e){t&1&&(ce(),m(0,"svg",8),E(1,"g",4)(2,"g",5),m(3,"g",6),E(4,"path",9),C()())}function Th(t,e){t&1&&(ce(),m(0,"svg",3),E(1,"g",4)(2,"g",5),m(3,"g",6),E(4,"path",10)(5,"path",11)(6,"path",12)(7,"path",13)(8,"path",14),C()())}function Ph(t,e){t&1&&(ce(),m(0,"svg",8),E(1,"g",4)(2,"g",5),m(3,"g",6),E(4,"path",15),C()())}function Nh(t,e){t&1&&(ce(),m(0,"svg",3),E(1,"g",4)(2,"g",5),m(3,"g",6),E(4,"path",16),C()())}function Fh(t,e){t&1&&(ce(),m(0,"svg",8),E(1,"g",4)(2,"g",5),m(3,"g",6),E(4,"path",17),C()())}function Lh(t,e){t&1&&(ce(),m(0,"svg",3),E(1,"g",4)(2,"g",5),m(3,"g",6),E(4,"path",18),C()())}var pi,gi=d(()=>{"use strict";N();me();pi=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Z({type:e,selectors:[["app-icon"]],inputs:{type:"type"},decls:8,vars:8,consts:[[3,"ngSwitch"],["width","64px","height","64px","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngSwitchCase"],["width","64px","height","64px","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg","stroke","",4,"ngSwitchCase"],["width","64px","height","64px","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","SVGRepo_bgCarrier","stroke-width","0"],["id","SVGRepo_tracerCarrier","stroke-linecap","round","stroke-linejoin","round"],["id","SVGRepo_iconCarrier"],["d","M6 12H18M12 6V18","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["width","64px","height","64px","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg","stroke",""],["fill-rule","evenodd","clip-rule","evenodd","d","M21.1213 2.70705C19.9497 1.53548 18.0503 1.53547 16.8787 2.70705L15.1989 4.38685L7.29289 12.2928C7.16473 12.421 7.07382 12.5816 7.02986 12.7574L6.02986 16.7574C5.94466 17.0982 6.04451 17.4587 6.29289 17.707C6.54127 17.9554 6.90176 18.0553 7.24254 17.9701L11.2425 16.9701C11.4184 16.9261 11.5789 16.8352 11.7071 16.707L19.5556 8.85857L21.2929 7.12126C22.4645 5.94969 22.4645 4.05019 21.2929 2.87862L21.1213 2.70705ZM18.2929 4.12126C18.6834 3.73074 19.3166 3.73074 19.7071 4.12126L19.8787 4.29283C20.2692 4.68336 20.2692 5.31653 19.8787 5.70705L18.8622 6.72357L17.3068 5.10738L18.2929 4.12126ZM15.8923 6.52185L17.4477 8.13804L10.4888 15.097L8.37437 15.6256L8.90296 13.5112L15.8923 6.52185ZM4 7.99994C4 7.44766 4.44772 6.99994 5 6.99994H10C10.5523 6.99994 11 6.55223 11 5.99994C11 5.44766 10.5523 4.99994 10 4.99994H5C3.34315 4.99994 2 6.34309 2 7.99994V18.9999C2 20.6568 3.34315 21.9999 5 21.9999H16C17.6569 21.9999 19 20.6568 19 18.9999V13.9999C19 13.4477 18.5523 12.9999 18 12.9999C17.4477 12.9999 17 13.4477 17 13.9999V18.9999C17 19.5522 16.5523 19.9999 16 19.9999H5C4.44772 19.9999 4 19.5522 4 18.9999V7.99994Z","fill","currentColor"],["d","M10 12V17","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M14 12V17","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M4 7H20","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M6 10V18C6 19.6569 7.34315 21 9 21H15C16.6569 21 18 19.6569 18 18V10","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M8 20H6C4.89543 20 4 19.1046 4 18V6C4 4.89543 4.89543 4 6 4H9M8 20V14C8 13.4477 8.44772 13 9 13H15C15.5523 13 16 13.4477 16 14V20M8 20H16M16 20H18C19.1046 20 20 19.1046 20 18V8.82843C20 8.29799 19.7893 7.78929 19.4142 7.41421L16.5858 4.58579C16.2107 4.21071 15.702 4 15.1716 4H15M15 4V7C15 7.55228 14.5523 8 14 8H10C9.44772 8 9 7.55228 9 7V4M15 4H9","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M19.53 8L14 2.47C13.8595 2.32931 13.6688 2.25018 13.47 2.25H11C10.2707 2.25 9.57118 2.53973 9.05546 3.05546C8.53973 3.57118 8.25 4.27065 8.25 5V6.25H7C6.27065 6.25 5.57118 6.53973 5.05546 7.05546C4.53973 7.57118 4.25 8.27065 4.25 9V19C4.25 19.7293 4.53973 20.4288 5.05546 20.9445C5.57118 21.4603 6.27065 21.75 7 21.75H14C14.7293 21.75 15.4288 21.4603 15.9445 20.9445C16.4603 20.4288 16.75 19.7293 16.75 19V17.75H17C17.7293 17.75 18.4288 17.4603 18.9445 16.9445C19.4603 16.4288 19.75 15.7293 19.75 15V8.5C19.7421 8.3116 19.6636 8.13309 19.53 8ZM14.25 4.81L17.19 7.75H14.25V4.81ZM15.25 19C15.25 19.3315 15.1183 19.6495 14.8839 19.8839C14.6495 20.1183 14.3315 20.25 14 20.25H7C6.66848 20.25 6.35054 20.1183 6.11612 19.8839C5.8817 19.6495 5.75 19.3315 5.75 19V9C5.75 8.66848 5.8817 8.35054 6.11612 8.11612C6.35054 7.8817 6.66848 7.75 7 7.75H8.25V15C8.25 15.7293 8.53973 16.4288 9.05546 16.9445C9.57118 17.4603 10.2707 17.75 11 17.75H15.25V19ZM17 16.25H11C10.6685 16.25 10.3505 16.1183 10.1161 15.8839C9.8817 15.6495 9.75 15.3315 9.75 15V5C9.75 4.66848 9.8817 4.35054 10.1161 4.11612C10.3505 3.8817 10.6685 3.75 11 3.75H12.75V8.5C12.7526 8.69811 12.8324 8.88737 12.9725 9.02747C13.1126 9.16756 13.3019 9.24741 13.5 9.25H18.25V15C18.25 15.3315 18.1183 15.6495 17.8839 15.8839C17.6495 16.1183 17.3315 16.25 17 16.25Z","fill","currentColor"],["fill-rule","evenodd","clip-rule","evenodd","d","M16.5 2.25C14.7051 2.25 13.25 3.70507 13.25 5.5C13.25 5.69591 13.2673 5.88776 13.3006 6.07412L8.56991 9.38558C8.54587 9.4024 8.52312 9.42038 8.50168 9.43939C7.94993 9.00747 7.25503 8.75 6.5 8.75C4.70507 8.75 3.25 10.2051 3.25 12C3.25 13.7949 4.70507 15.25 6.5 15.25C7.25503 15.25 7.94993 14.9925 8.50168 14.5606C8.52312 14.5796 8.54587 14.5976 8.56991 14.6144L13.3006 17.9259C13.2673 18.1122 13.25 18.3041 13.25 18.5C13.25 20.2949 14.7051 21.75 16.5 21.75C18.2949 21.75 19.75 20.2949 19.75 18.5C19.75 16.7051 18.2949 15.25 16.5 15.25C15.4472 15.25 14.5113 15.7506 13.9174 16.5267L9.43806 13.3911C9.63809 12.9694 9.75 12.4978 9.75 12C9.75 11.5022 9.63809 11.0306 9.43806 10.6089L13.9174 7.4733C14.5113 8.24942 15.4472 8.75 16.5 8.75C18.2949 8.75 19.75 7.29493 19.75 5.5C19.75 3.70507 18.2949 2.25 16.5 2.25ZM14.75 5.5C14.75 4.5335 15.5335 3.75 16.5 3.75C17.4665 3.75 18.25 4.5335 18.25 5.5C18.25 6.4665 17.4665 7.25 16.5 7.25C15.5335 7.25 14.75 6.4665 14.75 5.5ZM6.5 10.25C5.5335 10.25 4.75 11.0335 4.75 12C4.75 12.9665 5.5335 13.75 6.5 13.75C7.4665 13.75 8.25 12.9665 8.25 12C8.25 11.0335 7.4665 10.25 6.5 10.25ZM16.5 16.75C15.5335 16.75 14.75 17.5335 14.75 18.5C14.75 19.4665 15.5335 20.25 16.5 20.25C17.4665 20.25 18.25 19.4665 18.25 18.5C18.25 17.5335 17.4665 16.75 16.5 16.75Z","fill","currentColor"],["fill-rule","evenodd","clip-rule","evenodd","d","M8 10C8 7.79086 9.79086 6 12 6C14.2091 6 16 7.79086 16 10V11H17C18.933 11 20.5 12.567 20.5 14.5C20.5 16.433 18.933 18 17 18H16C15.4477 18 15 18.4477 15 19C15 19.5523 15.4477 20 16 20H17C20.0376 20 22.5 17.5376 22.5 14.5C22.5 11.7793 20.5245 9.51997 17.9296 9.07824C17.4862 6.20213 15.0003 4 12 4C8.99974 4 6.51381 6.20213 6.07036 9.07824C3.47551 9.51997 1.5 11.7793 1.5 14.5C1.5 17.5376 3.96243 20 7 20H8C8.55228 20 9 19.5523 9 19C9 18.4477 8.55228 18 8 18H7C5.067 18 3.5 16.433 3.5 14.5C3.5 12.567 5.067 11 7 11H8V10ZM15.7071 13.2929L12.7071 10.2929C12.3166 9.90237 11.6834 9.90237 11.2929 10.2929L8.29289 13.2929C7.90237 13.6834 7.90237 14.3166 8.29289 14.7071C8.68342 15.0976 9.31658 15.0976 9.70711 14.7071L11 13.4142V19C11 19.5523 11.4477 20 12 20C12.5523 20 13 19.5523 13 19V13.4142L14.2929 14.7071C14.6834 15.0976 15.3166 15.0976 15.7071 14.7071C16.0976 14.3166 16.0976 13.6834 15.7071 13.2929Z","fill","currentColor"]],template:function(r,s){r&1&&(m(0,"span",0),W(1,Vh,5,0,"svg",1)(2,kh,5,0,"svg",2)(3,Th,9,0,"svg",1)(4,Ph,5,0,"svg",2)(5,Nh,5,0,"svg",1)(6,Fh,5,0,"svg",2)(7,Lh,5,0,"svg",1),C()),r&2&&(S("ngSwitch",s.type),A(),S("ngSwitchCase","plus"),A(),S("ngSwitchCase","edit"),A(),S("ngSwitchCase","delete"),A(),S("ngSwitchCase","save"),A(),S("ngSwitchCase","copy"),A(),S("ngSwitchCase","share"),A(),S("ngSwitchCase","reload"))},dependencies:[Ns,Fs],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{display:flex;overflow:hidden;height:24px;width:24px}[_nghost-%COMP%]   span[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:inherit;width:inherit}"],changeDetection:0});let t=e;return t})()});function $h(t,e){if(t&1){let i=oe();m(0,"button",15),L(1,"async"),T("click",function(){B(i);let r=O(2);return H(r.resendList())}),E(2,"app-icon",16),C()}if(t&2){let i=O(2);S("disabled",U(1,1,i.isDisabledReloadBtn$))}}function jh(t,e){if(t&1){let i=oe();m(0,"div",7)(1,"button",8),T("click",function(){B(i);let r=O();return H(r.onCopyList())}),E(2,"app-icon",9),C(),m(3,"button",10),T("click",function(){B(i);let r=O();return H(r.onCopyLink())}),E(4,"app-icon",11),C(),W(5,$h,3,3,"button",12),L(6,"async"),m(7,"button",13),L(8,"async"),L(9,"async"),L(10,"async"),T("click",function(){B(i);let r=O();return H(r.onAddItem())}),E(11,"app-icon",14),L(12,"async"),C()()}if(t&2){let i=O();A(5),S("ngIf",U(6,4,i.isShowReloadBtn$)),A(2),S("disabled",U(8,6,i.isEditable$)&&U(9,8,i.addItemInvalid$)),ge("title",U(10,10,i.isEditable$)?"Save Changes":"Add Item"),A(4),S("type",U(12,12,i.isEditable$)?"save":"plus")}}var Uh,yc,Yr=d(()=>{"use strict";we();N();vt();me();gi();Uh=t=>({active:t});yc=(()=>{let e=class e{constructor(n){this.service=n,this.isOwner$=this.service.key$.pipe(b(r=>!!r)),this.isShowReloadBtn$=this.service.hasPartner$,this.isDisabledReloadBtn$=new I(!0),this.isEditable$=this.service.isEditable$,this.addItemInvalid$=this.service.addItemInvalid$,this.isShowMessage$=new I(!1),this.message$=new I(""),this.unsubscribe$=new $}ngOnInit(){Be([this.service.list$,this.service.lastSentList$]).pipe(K(this.unsubscribe$)).subscribe(([n,r])=>this.isDisabledReloadBtn$.next(r===JSON.stringify(n.filter(s=>!s.status))))}ngOnDestroy(){this.unsubscribe$.next()}resendList(){this.service.sendListToPartner(),this.isDisabledReloadBtn$.next(!0)}onCopyList(){let r=this.service.list$.value.reduce((s,o)=>(o.status||s.push(`${o.text};`),s),[]).join(`
`);navigator.clipboard.writeText(r).then(()=>this.showMessage("Copied"))}onCopyLink(){let n=this.service.key$.value;navigator.clipboard.writeText(`${document.location.origin}?listId=${n}`).then(()=>this.showMessage("Copied"))}onAddItem(){let n=!this.isEditable$.value;this.service.isEditable$.next(n),n?this.service.addItemInputFocused$.next():this.addItem()}onClose(){this.isShowMessage$.next(!1),setTimeout(()=>this.message$.next(""),500)}showMessage(n){this.message$.next(n),this.isShowMessage$.next(!0),setTimeout(()=>this.onClose(),3e3)}addItem(){this.service.addItemInvalid$.value||(this.service.addItem({id:Date.now().toString(),text:this.service.addItemValue$.value,status:!1}),this.service.resetForm$.next())}};e.\u0275fac=function(r){return new(r||e)(w(pe))},e.\u0275cmp=Z({type:e,selectors:[["app-toolbar"]],decls:13,vars:11,consts:[[1,"notification",3,"ngClass"],["type","button",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"toolbar"],[1,"title"],["class","buttons-bar",4,"ngIf"],[1,"buttons-bar"],["type","button","title","Copy text",1,"btn-outline",3,"click"],["type","copy"],["type","button","title","Share list",1,"btn-outline",3,"click"],["type","share"],["class","btn-outline","type","button","title","Resend List",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-outline",3,"click","disabled"],[3,"type"],["type","button","title","Resend List",1,"btn-outline",3,"click","disabled"],["type","reload"]],template:function(r,s){r&1&&(m(0,"div",0),L(1,"async"),m(2,"p"),Qe(3),L(4,"async"),C(),m(5,"button",1),T("click",function(){return s.onClose()}),ce(),m(6,"svg",2),E(7,"path",3),C()()(),vs(),m(8,"section",4)(9,"h1",5),Qe(10,"Alista"),C(),W(11,jh,13,14,"div",6),L(12,"async"),C()),r&2&&(S("ngClass",vn(9,Uh,U(1,3,s.isShowMessage$))),A(3),At(U(4,5,s.message$)),A(8),S("ngIf",U(12,7,s.isOwner$)))},dependencies:[Ts,Ye,pi,Ae],styles:["[_nghost-%COMP%]{display:block;width:100%;position:relative}.title[_ngcontent-%COMP%]{flex-grow:1}.toolbar[_ngcontent-%COMP%]{border-bottom:1px solid #eeeeee;padding:1rem;display:flex;align-items:center;justify-content:space-between}.buttons-bar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;gap:1rem}.notification[_ngcontent-%COMP%]{position:absolute;left:1rem;opacity:0;top:-10rem;gap:1rem;padding:.25rem .5rem;display:flex;align-items:center;background-color:#f80;color:#fff;box-shadow:0 -1px 10px 2px #ff9319;border-radius:.25rem;transition:all .3s ease-in-out}.notification.active[_ngcontent-%COMP%]{top:1rem;opacity:1}.notification[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{flex-grow:1;line-height:1}.notification[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff;padding:.25rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.notification[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#ffc37f}.notification[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:1rem;height:1rem}"],changeDetection:0});let t=e;return t})()});function Hh(t,e){if(t&1){let i=oe();xi(0),m(1,"input",12),T("change",function(){B(i);let r=O(3);return H(r.onSelect())}),C(),m(2,"label"),Qe(3),C(),Di()}if(t&2){let i=O(3);A(),ge("id",i.id==null?null:i.id.value),A(),ge("for",i.id==null?null:i.id.value),A(),At(i.text==null?null:i.text.value)}}function qh(t,e){if(t&1){let i=oe();m(0,"button",10),T("click",function(){B(i),O();let r=Mi(3),s=O(2);return H(s.changeOnEditMode(r))}),E(1,"app-icon",13),C()}}function Gh(t,e){if(t&1){let i=oe();m(0,"button",14),T("click",function(){B(i);let r=O(3);return H(r.onSave())}),E(1,"app-icon",15),C()}if(t&2){let i=O(3);S("disabled",i.form.invalid)}}function zh(t,e){if(t&1){let i=oe();xi(0),m(1,"div",5)(2,"input",6,1),T("keydown",function(r){B(i);let s=O(2);return H(s.onKeydown(r))})("blur",function(){B(i);let r=O(2);return H(r.onSave())}),C(),W(4,Hh,4,3,"ng-container",7),C(),W(5,qh,2,0,"button",8)(6,Gh,2,1,"button",9),m(7,"button",10),T("click",function(){B(i);let r=O(2);return H(r.onDelete())}),E(8,"app-icon",11),C(),Di()}if(t&2){let i=O(2);A(2),Et("visible-field",i.isEditMode),A(2),S("ngIf",!i.isEditMode),A(),S("ngIf",!i.isEditMode),A(),S("ngIf",i.isEditMode)}}function Wh(t,e){if(t&1){let i=oe();m(0,"div",5)(1,"input",12),T("change",function(){B(i);let r=O(2);return H(r.onSelect())}),C(),m(2,"label"),Qe(3),C()()}if(t&2){let i=O(2);A(),ge("id",i.id==null?null:i.id.value),A(),ge("for",i.id==null?null:i.id.value),A(),At(i.text==null?null:i.text.value)}}function Kh(t,e){if(t&1&&(m(0,"form",3),W(1,zh,9,5,"ng-container",4),L(2,"async"),W(3,Wh,4,3,"ng-template",null,0,As),C()),t&2){let i=Mi(4),n=O();S("formGroup",n.form),A(),S("ngIf",U(2,3,n.isOwner$))("ngIfElse",i)}}var Cc,Jr=d(()=>{"use strict";nt();we();N();nt();vt();me();gi();Cc=(()=>{let e=class e{set item(n){n&&(this.form=this.fb.group({id:new ue(n.id),status:new ue(n.status),text:new ue(n.text,[he.required,he.minLength(2),he.maxLength(100)])}))}constructor(n,r){this.fb=n,this.service=r,this.isEditMode=!1,this.previousValue="",this.isOwner$=this.service.listId$.pipe(b(s=>!s))}get id(){return this.form.get("id")}get text(){return this.form.get("text")}onSelect(){this.service.changeStatus(this.form.value)}onDelete(){this.service.deleteItem(this.id?.value)}changeOnEditMode(n){this.isEditMode=!0,this.previousValue=this.text?.value,setTimeout(()=>n.focus()),this.service.isEditable$.value&&(this.service.isEditable$.next(!1),this.service.resetForm$.next())}onSave(){this.isEditMode=!1,this.form.invalid?this.text?.setValue(this.previousValue):this.service.editItem(this.form.value)}onKeydown(n){n.key==="Enter"&&this.onSave()}};e.\u0275fac=function(r){return new(r||e)(w(Vn),w(pe))},e.\u0275cmp=Z({type:e,selectors:[["app-item"]],inputs:{item:"item"},decls:1,vars:1,consts:[["shortView",""],["textField",""],["class","item",3,"formGroup",4,"ngIf"],[1,"item",3,"formGroup"],[4,"ngIf","ngIfElse"],[1,"text-field"],["type","text","formControlName","text",3,"keydown","blur"],[4,"ngIf"],["class","icon-btn","type","button",3,"click",4,"ngIf"],["class","icon-btn","type","button",3,"disabled","click",4,"ngIf"],["type","button",1,"icon-btn",3,"click"],["type","delete"],["type","checkbox","formControlName","status",1,"checkbox",3,"change"],["type","edit"],["type","button",1,"icon-btn",3,"click","disabled"],["type","save"]],template:function(r,s){r&1&&W(0,Kh,5,5,"form",2),r&2&&S("ngIf",s.form)},dependencies:[Ye,On,tt,Ni,Mn,In,Ot,Vt,pi,Ae],styles:[".item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.5rem;align-items:center;box-shadow:0 3px 6px -3px #0000001a,0 2px 4px -4px #0000001a;border:1px solid #e5e7eb;padding:.5rem 1rem;margin-top:.5rem;border-radius:4px}.text-field[_ngcontent-%COMP%]{flex-grow:1}.text-field[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;display:none}.text-field[_ngcontent-%COMP%]   input[type=text].visible-field[_ngcontent-%COMP%]{display:block}.text-field[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{width:0;display:none;visibility:hidden}.text-field[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{text-decoration:line-through;opacity:.5}.text-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;width:100%;line-height:1.5;padding:.25rem 0}"],changeDetection:0});let t=e;return t})()});function Qh(t,e){if(t&1&&(m(0,"div",1),E(1,"app-item",2),C()),t&2){let i=e.$implicit;A(),S("item",i)}}var _c,Xr=d(()=>{"use strict";N();vt();me();Jr();_c=(()=>{let e=class e{constructor(n){this.service=n,this.list$=this.service.list$.asObservable()}};e.\u0275fac=function(r){return new(r||e)(w(pe))},e.\u0275cmp=Z({type:e,selectors:[["app-list"]],decls:2,vars:3,consts:[["class","list-wrapper",4,"ngFor","ngForOf"],[1,"list-wrapper"],[3,"item"]],template:function(r,s){r&1&&(W(0,Qh,2,1,"div",0),L(1,"async")),r&2&&S("ngForOf",U(1,1,s.list$))},dependencies:[Ps,Cc,Ae],styles:["[_nghost-%COMP%]{display:block;flex-grow:1;padding:0 1rem 1rem;overflow-y:auto}"],changeDetection:0});let t=e;return t})()});function Xh(t,e){if(t&1){let i=oe();m(0,"form",1)(1,"input",2),L(2,"async"),T("keydown",function(r){B(i);let s=O();return H(s.onKeydown(r))})("blur",function(){B(i);let r=O();return H(r.onBlur())}),C()()}if(t&2){let i=O();S("formGroup",i.form),A(),S("ngStyle",vn(4,Jh,U(2,2,i.isEditable$)?"block":"none"))}}var Jh,bc,es=d(()=>{"use strict";nt();we();N();nt();vt();me();Jh=t=>({display:t});bc=(()=>{let e=class e{constructor(n,r,s){this.fb=n,this.service=r,this.el=s,this.isOwner$=this.service.key$.pipe(b(o=>!!o)),this.isEditable$=this.service.isEditable$,this.unsubscribe$=new $,this.form=this.fb.group({item:new ue(null,[he.required,he.minLength(2),he.maxLength(100)])})}get item(){return this.form.get("item")}ngOnInit(){this.service.addItemInputFocused$.pipe(K(this.unsubscribe$)).subscribe(()=>setTimeout(()=>this.el.nativeElement.querySelector('[formcontrolname="item"]').focus())),this.service.resetForm$.pipe(K(this.unsubscribe$)).subscribe(()=>setTimeout(()=>this.form.reset())),this.item?.statusChanges.pipe(K(this.unsubscribe$)).subscribe(n=>this.service.addItemInvalid$.next(n==="INVALID")),this.item?.valueChanges.pipe(K(this.unsubscribe$)).subscribe(n=>this.service.addItemValue$.next(n))}onKeydown(n){n.key!=="Enter"||this.form.invalid||(this.service.addItem({id:Date.now().toString(),text:this.item?.value,status:!1}),this.form.reset())}onBlur(){this.item?.value||this.service.isEditable$.next(!1)}};e.\u0275fac=function(r){return new(r||e)(w(Vn),w(pe),w(Ke))},e.\u0275cmp=Z({type:e,selectors:[["app-add-item"]],decls:2,vars:3,consts:[["class","add-item-form",3,"formGroup",4,"ngIf"],[1,"add-item-form",3,"formGroup"],["type","text","formControlName","item",3,"keydown","blur","ngStyle"]],template:function(r,s){r&1&&(W(0,Xh,3,6,"form",0),L(1,"async")),r&2&&S("ngIf",U(1,1,s.isOwner$))},dependencies:[Ye,Ls,On,tt,Mn,In,Ot,Vt,Ae],styles:["form[_ngcontent-%COMP%]{padding:.5rem 1rem 0}"],changeDetection:0});let t=e;return t})()});var wc,Sc=d(()=>{"use strict";we();N();vt();Qr();Yr();Xr();es();wc=(()=>{let e=class e{constructor(n,r){this.service=n,this.socketService=r,this.unsubscribe$=new $}ngOnInit(){document.getElementById("loader")?.remove(),this.socketService.getMessage("listFromOwner").pipe(K(this.unsubscribe$)).subscribe(n=>{this.service.setList([...JSON.parse(n),...this.service.list$.value.filter(r=>r.status)])}),this.socketService.getMessage("userConnected").pipe(K(this.unsubscribe$)).subscribe(()=>{this.service.key$.value&&(this.service.hasPartner$.next(!0),this.service.sendListToPartner())}),this.socketService.getMessage("disconnect").pipe(K(this.unsubscribe$)).subscribe(()=>document.location.href="/"),this.socketService.getMessage("onlyOwnerInRoom").pipe(K(this.unsubscribe$)).subscribe(()=>this.service.hasPartner$.next(!1)),this.service.init()}ngOnDestroy(){this.unsubscribe$.next()}};e.\u0275fac=function(r){return new(r||e)(w(pe),w(di))},e.\u0275cmp=Z({type:e,selectors:[["app-root"]],decls:4,vars:0,template:function(r,s){r&1&&(m(0,"main"),E(1,"app-toolbar")(2,"app-add-item")(3,"app-list"),C())},dependencies:[yc,_c,bc],styles:["[_nghost-%COMP%]{display:block;height:100%}main[_ngcontent-%COMP%]{margin:0 auto;height:100%;max-width:600px;display:flex;flex-direction:column}"],changeDetection:0});let t=e;return t})()});var Ec=d(()=>{"use strict"});var bg,td=d(()=>{Gs();me();xc();nt();lr();dc();Sc();Yr();Xr();Jr();gi();Zs();es();Ec();N();bg=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=se({type:e,bootstrap:[wc]}),e.\u0275inj=re({imports:[Hs,ba.forRoot(zs()),hc,Us,Bs,Do]});let t=e;return t})()});td();export{bg as AppModule};
